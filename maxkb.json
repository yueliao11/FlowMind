{"swagger": "2.0", "info": {"title": "Python API", "description": "智能客服平台", "version": "v1"}, "host": "democenter.fit2cloud.cn:8709", "schemes": ["http"], "basePath": "/", "consumes": ["application/json"], "produces": ["application/json"], "securityDefinitions": {"Bearer": {"type": "apiKey", "name": "AUTHORIZATION", "in": "header"}}, "security": [{"Bearer": []}], "paths": {"/api/application": {"get": {"operationId": "获取应用列表", "summary": "获取应用列表", "description": "", "parameters": [{"name": "name", "in": "query", "description": "应用名称", "required": false, "type": "string"}, {"name": "desc", "in": "query", "description": "应用描述", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "name", "desc", "model_id", "dialogue_number", "user_id", "status", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "", "description": "主键 id", "type": "string"}, "name": {"title": "应用名称", "description": "应用名称", "type": "string"}, "desc": {"title": "应用描述", "description": "应用描述", "type": "string"}, "model_id": {"title": "模型 id", "description": "模型 id", "type": "string"}, "dialogue_number": {"title": "多轮对话数量", "description": "多轮对话数量", "type": "number"}, "prologue": {"title": "开场白", "description": "开场白", "type": "string"}, "example": {"title": "示例列表", "description": "示例列表", "type": "array", "items": {"type": "string"}}, "user_id": {"title": "所属用户", "description": "所属用户", "type": "string"}, "status": {"title": "是否发布", "description": "是否发布", "type": "boolean"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string"}, "dataset_id_list": {"title": "关联知识库 ID 列表", "description": "关联知识库ID列表（查询详情时返回）", "type": "array", "items": {"type": "string"}}}}}}}}}, "tags": ["应用"]}, "post": {"operationId": "创建应用", "summary": "创建应用", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["name", "desc", "model_id", "dialogue_number", "dataset_setting", "model_setting", "problem_optimization", "stt_model_enable", "stt_model_enable", "tts_type", "work_flow"], "type": "object", "properties": {"name": {"title": "应用名称", "description": "应用名称", "type": "string"}, "desc": {"title": "应用描述", "description": "应用描述", "type": "string"}, "model_id": {"title": "模型 id", "description": "模型 id", "type": "string"}, "dialogue_number": {"title": "多轮对话数量", "description": "多轮对话数量", "type": "number"}, "prologue": {"title": "开场白", "description": "开场白", "type": "string"}, "dataset_id_list": {"title": "关联知识库 ID 列表", "description": "关联知识库 ID 列表", "type": "array", "items": {"type": "string"}}, "dataset_setting": {"required": [""], "type": "object", "properties": {"top_n": {"title": "引用分段数", "description": "引用分段数", "type": "number", "default": 5}, "similarity": {"title": "相似度", "description": "相似度", "type": "number", "default": 0.6}, "max_paragraph_char_number": {"title": "最多引用字符数", "description": "最多引用字符数", "type": "number", "default": 3000}, "search_mode": {"title": "检索方式", "description": "embedding|keywords|blend", "type": "string", "default": "embedding"}, "no_references_setting": {"title": "未查询到引用分段", "required": ["status", "value"], "type": "object", "properties": {"status": {"title": "状态", "description": "ai作答|指定答案", "type": "string", "default": "ai_questioning"}, "value": {"title": "值", "description": "ai作答:就是题词,指定回答:就是指定回答内容", "type": "string", "default": "{question}"}}}}}, "model_setting": {"required": ["prompt"], "type": "object", "properties": {"prompt": {"title": "提示词", "description": "提示词", "type": "string", "default": "Known information:\n{data}\nAnswer requirements:\n- If you don't know the answer or don't get the answer, please answer \"No relevant information found in the knowledge base, it is recommended to consult relevant technical support or refer to official documents for operation\".\n- Avoid mentioning that you got the knowledge from <data></data>.\n- Please keep the answer consistent with the description in <data></data>.\n- Please use markdown syntax to optimize the format of the answer.\n- Please return the image link, link address and script language in <data></data> completely.\n- Please answer in the same language as the question.\nQuestion:\n{question}"}, "system": {"title": "系统提示词(角色)", "description": "系统提示词(角色)", "type": "string"}, "no_references_prompt": {"title": "无引用分段提示词", "description": "无引用分段提示词", "type": "string", "default": "{question}"}}}, "problem_optimization": {"title": "问题优化", "description": "问题优化", "type": "boolean", "default": true}, "type": {"title": "应用类型", "description": "应用类型   SIMPLE |  WORK_FLOW", "type": "string"}, "problem_optimization_prompt": {"title": "问题优化提示词", "description": "问题优化提示词", "type": "string", "default": "()里面是用户问题,根据上下文回答揣测用户问题({question}) 要求: 输出一个补全问题,并且放在<data></data>标签中"}, "tts_model_id": {"title": "文本转语音模型 ID", "description": "文本转语音模型 ID", "type": "string"}, "stt_model_id": {"title": "语音转文本模型 ID", "description": "语音转文本模型 ID", "type": "string"}, "stt_model_enable": {"title": "是否开启语音转文本", "description": "是否开启语音转文本", "type": "string"}, "tts_model_enable": {"title": "是否开启文本转语音", "description": "是否开启文本转语音", "type": "string"}, "tts_type": {"title": "文本转语音类型", "description": "文本转语音类型", "type": "string"}, "work_flow": {"required": [""], "type": "object", "properties": {"nodes": {"title": "节点列表", "description": "节点列表", "type": "array", "items": {"type": "object"}, "default": []}, "edges": {"title": "连线列表", "description": "连线列表", "type": "array", "items": {"type": "object"}, "default": []}}}}}}], "responses": {"201": {"description": "", "schema": {"required": ["name", "desc", "model_id", "dialogue_number", "dataset_setting", "model_setting", "problem_optimization", "stt_model_enable", "stt_model_enable", "tts_type", "work_flow"], "type": "object", "properties": {"name": {"title": "应用名称", "description": "应用名称", "type": "string"}, "desc": {"title": "应用描述", "description": "应用描述", "type": "string"}, "model_id": {"title": "模型 id", "description": "模型 id", "type": "string"}, "dialogue_number": {"title": "多轮对话数量", "description": "多轮对话数量", "type": "number"}, "prologue": {"title": "开场白", "description": "开场白", "type": "string"}, "dataset_id_list": {"title": "关联知识库 ID 列表", "description": "关联知识库 ID 列表", "type": "array", "items": {"type": "string"}}, "dataset_setting": {"required": [""], "type": "object", "properties": {"top_n": {"title": "引用分段数", "description": "引用分段数", "type": "number", "default": 5}, "similarity": {"title": "相似度", "description": "相似度", "type": "number", "default": 0.6}, "max_paragraph_char_number": {"title": "最多引用字符数", "description": "最多引用字符数", "type": "number", "default": 3000}, "search_mode": {"title": "检索方式", "description": "embedding|keywords|blend", "type": "string", "default": "embedding"}, "no_references_setting": {"title": "未查询到引用分段", "required": ["status", "value"], "type": "object", "properties": {"status": {"title": "状态", "description": "ai作答|指定答案", "type": "string", "default": "ai_questioning"}, "value": {"title": "值", "description": "ai作答:就是题词,指定回答:就是指定回答内容", "type": "string", "default": "{question}"}}}}}, "model_setting": {"required": ["prompt"], "type": "object", "properties": {"prompt": {"title": "提示词", "description": "提示词", "type": "string", "default": "Known information:\n{data}\nAnswer requirements:\n- If you don't know the answer or don't get the answer, please answer \"No relevant information found in the knowledge base, it is recommended to consult relevant technical support or refer to official documents for operation\".\n- Avoid mentioning that you got the knowledge from <data></data>.\n- Please keep the answer consistent with the description in <data></data>.\n- Please use markdown syntax to optimize the format of the answer.\n- Please return the image link, link address and script language in <data></data> completely.\n- Please answer in the same language as the question.\nQuestion:\n{question}"}, "system": {"title": "系统提示词(角色)", "description": "系统提示词(角色)", "type": "string"}, "no_references_prompt": {"title": "无引用分段提示词", "description": "无引用分段提示词", "type": "string", "default": "{question}"}}}, "problem_optimization": {"title": "问题优化", "description": "问题优化", "type": "boolean", "default": true}, "type": {"title": "应用类型", "description": "应用类型   SIMPLE |  WORK_FLOW", "type": "string"}, "problem_optimization_prompt": {"title": "问题优化提示词", "description": "问题优化提示词", "type": "string", "default": "()里面是用户问题,根据上下文回答揣测用户问题({question}) 要求: 输出一个补全问题,并且放在<data></data>标签中"}, "tts_model_id": {"title": "文本转语音模型 ID", "description": "文本转语音模型 ID", "type": "string"}, "stt_model_id": {"title": "语音转文本模型 ID", "description": "语音转文本模型 ID", "type": "string"}, "stt_model_enable": {"title": "是否开启语音转文本", "description": "是否开启语音转文本", "type": "string"}, "tts_model_enable": {"title": "是否开启文本转语音", "description": "是否开启文本转语音", "type": "string"}, "tts_type": {"title": "文本转语音类型", "description": "文本转语音类型", "type": "string"}, "work_flow": {"required": [""], "type": "object", "properties": {"nodes": {"title": "节点列表", "description": "节点列表", "type": "array", "items": {"type": "object"}, "default": []}, "edges": {"title": "连线列表", "description": "连线列表", "type": "array", "items": {"type": "object"}, "default": []}}}}}}}, "tags": ["应用"]}, "parameters": []}, "/api/application/authentication": {"post": {"operationId": "应用认证", "summary": "应用认证", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["access_token"], "type": "object", "properties": {"access_token": {"title": "应用认证 token", "description": "应用认证 token", "type": "string"}}}}], "responses": {"201": {"description": "", "schema": {"required": ["access_token"], "type": "object", "properties": {"access_token": {"title": "应用认证 token", "description": "应用认证 token", "type": "string"}}}}}, "tags": ["应用/认证"], "security": []}, "parameters": []}, "/api/application/chat/open": {"post": {"operationId": "获取临时会话id", "summary": "获取临时会话id", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["model_id", "multiple_rounds_dialogue", "dataset_setting", "model_setting", "problem_optimization"], "type": "object", "properties": {"id": {"title": "应用 ID", "description": "应用id,修改的时候传,创建的时候不传", "type": "string"}, "model_id": {"title": "模型 ID", "description": "模型 ID", "type": "string"}, "dataset_id_list": {"title": "关联知识库 ID 列表", "description": "关联知识库 ID 列表", "type": "array", "items": {"type": "string"}}, "multiple_rounds_dialogue": {"title": "是否开启多轮会话", "description": "是否开启多轮会话", "type": "boolean"}, "dataset_setting": {"required": [""], "type": "object", "properties": {"top_n": {"title": "引用分段数", "description": "引用分段数", "type": "number", "default": 5}, "similarity": {"title": "相似度", "description": "相似度", "type": "number", "default": 0.6}, "max_paragraph_char_number": {"title": "最多引用字符数", "description": "最多引用字符数", "type": "number", "default": 3000}, "search_mode": {"title": "检索方式", "description": "embedding|keywords|blend", "type": "string", "default": "embedding"}, "no_references_setting": {"title": "未查询到引用分段", "required": ["status", "value"], "type": "object", "properties": {"status": {"title": "状态", "description": "ai作答|指定答案", "type": "string", "default": "ai_questioning"}, "value": {"title": "值", "description": "ai作答:就是题词,指定回答:就是指定回答内容", "type": "string", "default": "{question}"}}}}}, "model_setting": {"required": ["prompt"], "type": "object", "properties": {"prompt": {"title": "提示词", "description": "提示词", "type": "string", "default": "Known information:\n{data}\nAnswer requirements:\n- If you don't know the answer or don't get the answer, please answer \"No relevant information found in the knowledge base, it is recommended to consult relevant technical support or refer to official documents for operation\".\n- Avoid mentioning that you got the knowledge from <data></data>.\n- Please keep the answer consistent with the description in <data></data>.\n- Please use markdown syntax to optimize the format of the answer.\n- Please return the image link, link address and script language in <data></data> completely.\n- Please answer in the same language as the question.\nQuestion:\n{question}"}, "system": {"title": "系统提示词(角色)", "description": "系统提示词(角色)", "type": "string"}, "no_references_prompt": {"title": "无引用分段提示词", "description": "无引用分段提示词", "type": "string", "default": "{question}"}}}, "problem_optimization": {"title": "问题优化", "description": "是否开启问题优化", "type": "boolean", "default": true}}}}], "responses": {"201": {"description": "", "schema": {"required": ["model_id", "multiple_rounds_dialogue", "dataset_setting", "model_setting", "problem_optimization"], "type": "object", "properties": {"id": {"title": "应用 ID", "description": "应用id,修改的时候传,创建的时候不传", "type": "string"}, "model_id": {"title": "模型 ID", "description": "模型 ID", "type": "string"}, "dataset_id_list": {"title": "关联知识库 ID 列表", "description": "关联知识库 ID 列表", "type": "array", "items": {"type": "string"}}, "multiple_rounds_dialogue": {"title": "是否开启多轮会话", "description": "是否开启多轮会话", "type": "boolean"}, "dataset_setting": {"required": [""], "type": "object", "properties": {"top_n": {"title": "引用分段数", "description": "引用分段数", "type": "number", "default": 5}, "similarity": {"title": "相似度", "description": "相似度", "type": "number", "default": 0.6}, "max_paragraph_char_number": {"title": "最多引用字符数", "description": "最多引用字符数", "type": "number", "default": 3000}, "search_mode": {"title": "检索方式", "description": "embedding|keywords|blend", "type": "string", "default": "embedding"}, "no_references_setting": {"title": "未查询到引用分段", "required": ["status", "value"], "type": "object", "properties": {"status": {"title": "状态", "description": "ai作答|指定答案", "type": "string", "default": "ai_questioning"}, "value": {"title": "值", "description": "ai作答:就是题词,指定回答:就是指定回答内容", "type": "string", "default": "{question}"}}}}}, "model_setting": {"required": ["prompt"], "type": "object", "properties": {"prompt": {"title": "提示词", "description": "提示词", "type": "string", "default": "Known information:\n{data}\nAnswer requirements:\n- If you don't know the answer or don't get the answer, please answer \"No relevant information found in the knowledge base, it is recommended to consult relevant technical support or refer to official documents for operation\".\n- Avoid mentioning that you got the knowledge from <data></data>.\n- Please keep the answer consistent with the description in <data></data>.\n- Please use markdown syntax to optimize the format of the answer.\n- Please return the image link, link address and script language in <data></data> completely.\n- Please answer in the same language as the question.\nQuestion:\n{question}"}, "system": {"title": "系统提示词(角色)", "description": "系统提示词(角色)", "type": "string"}, "no_references_prompt": {"title": "无引用分段提示词", "description": "无引用分段提示词", "type": "string", "default": "{question}"}}}, "problem_optimization": {"title": "问题优化", "description": "是否开启问题优化", "type": "boolean", "default": true}}}}}, "tags": ["应用/对话"]}, "parameters": []}, "/api/application/chat_message/{chat_id}": {"post": {"operationId": "对话", "summary": "对话", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["message"], "type": "object", "properties": {"message": {"title": "问题", "description": "问题", "type": "string"}, "re_chat": {"title": "重新生成", "type": "boolean", "default": false}, "stream": {"title": "是否流式输出", "type": "boolean", "default": true}, "form_data": {"title": "Form data", "description": "Form data", "type": "object", "default": {}}, "image_list": {"title": "Image list", "description": "Image list", "type": "array", "items": {"type": "object", "properties": {"name": {"title": "图片名称", "type": "string"}, "url": {"title": "图片地址", "type": "string"}, "file_id": {"type": "string"}}}, "default": []}, "document_list": {"title": "文档列表", "description": "文档列表", "type": "array", "items": {"type": "object", "properties": {"name": {"title": "文档名称", "type": "string"}, "url": {"title": "文档地址", "type": "string"}, "file_id": {"type": "string"}}}, "default": []}, "audio_list": {"title": "Audio list", "description": "Audio list", "type": "array", "items": {"type": "object", "properties": {"name": {"title": "音频名称", "type": "string"}, "url": {"title": "音频地址", "type": "string"}, "file_id": {"type": "string"}}}, "default": []}, "runtime_node_id": {"title": "运行时节点 ID", "description": "运行时节点 ID", "type": "string", "default": ""}, "node_data": {"title": "节点数据", "description": "节点数据", "type": "object", "default": {}}, "chat_record_id": {"title": "对话记录 ID", "description": "对话记录 ID", "type": "string", "default": ""}, "child_node": {"title": "子节点数据", "description": "子节点数据", "type": "string", "default": {}}}}}], "responses": {"201": {"description": "", "schema": {"required": ["message"], "type": "object", "properties": {"message": {"title": "问题", "description": "问题", "type": "string"}, "re_chat": {"title": "重新生成", "type": "boolean", "default": false}, "stream": {"title": "是否流式输出", "type": "boolean", "default": true}, "form_data": {"title": "Form data", "description": "Form data", "type": "object", "default": {}}, "image_list": {"title": "Image list", "description": "Image list", "type": "array", "items": {"type": "object", "properties": {"name": {"title": "图片名称", "type": "string"}, "url": {"title": "图片地址", "type": "string"}, "file_id": {"type": "string"}}}, "default": []}, "document_list": {"title": "文档列表", "description": "文档列表", "type": "array", "items": {"type": "object", "properties": {"name": {"title": "文档名称", "type": "string"}, "url": {"title": "文档地址", "type": "string"}, "file_id": {"type": "string"}}}, "default": []}, "audio_list": {"title": "Audio list", "description": "Audio list", "type": "array", "items": {"type": "object", "properties": {"name": {"title": "音频名称", "type": "string"}, "url": {"title": "音频地址", "type": "string"}, "file_id": {"type": "string"}}}, "default": []}, "runtime_node_id": {"title": "运行时节点 ID", "description": "运行时节点 ID", "type": "string", "default": ""}, "node_data": {"title": "节点数据", "description": "节点数据", "type": "object", "default": {}}, "chat_record_id": {"title": "对话记录 ID", "description": "对话记录 ID", "type": "string", "default": ""}, "child_node": {"title": "子节点数据", "description": "子节点数据", "type": "string", "default": {}}}}}}, "tags": ["应用/对话"]}, "parameters": [{"name": "chat_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/chat_workflow/open": {"post": {"operationId": "获取工作流临时会话id", "summary": "获取工作流临时会话id", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": [], "type": "object", "properties": {"work_flow": {"required": [""], "type": "object", "properties": {"nodes": {"title": "节点列表", "description": "节点列表", "type": "array", "items": {"type": "object"}, "default": []}, "edges": {"title": "连线列表", "description": "连线列表", "type": "array", "items": {"type": "object"}, "default": []}}}}}}], "responses": {"201": {"description": "", "schema": {"required": [], "type": "object", "properties": {"work_flow": {"required": [""], "type": "object", "properties": {"nodes": {"title": "节点列表", "description": "节点列表", "type": "array", "items": {"type": "object"}, "default": []}, "edges": {"title": "连线列表", "description": "连线列表", "type": "array", "items": {"type": "object"}, "default": []}}}}}}}, "tags": ["应用/对话"]}, "parameters": []}, "/api/application/embed": {"get": {"operationId": "获取嵌入 js", "summary": "获取嵌入 js", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["应用"]}, "parameters": []}, "/api/application/import": {"post": {"operationId": "导入应用", "summary": "导入应用", "description": "", "parameters": [{"name": "file", "in": "formData", "description": "上传图片文件", "required": true, "type": "file"}], "responses": {"201": {"description": ""}}, "consumes": ["multipart/form-data"], "tags": ["应用"]}, "parameters": []}, "/api/application/profile": {"get": {"operationId": "获取应用相关信息", "summary": "获取应用相关信息", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["应用/对话"]}, "parameters": []}, "/api/application/{application_id}": {"get": {"operationId": "获取应用详情", "summary": "获取应用详情", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "name", "desc", "model_id", "dialogue_number", "user_id", "status", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "", "description": "主键 id", "type": "string"}, "name": {"title": "应用名称", "description": "应用名称", "type": "string"}, "desc": {"title": "应用描述", "description": "应用描述", "type": "string"}, "model_id": {"title": "模型 id", "description": "模型 id", "type": "string"}, "dialogue_number": {"title": "多轮对话数量", "description": "多轮对话数量", "type": "number"}, "prologue": {"title": "开场白", "description": "开场白", "type": "string"}, "example": {"title": "示例列表", "description": "示例列表", "type": "array", "items": {"type": "string"}}, "user_id": {"title": "所属用户", "description": "所属用户", "type": "string"}, "status": {"title": "是否发布", "description": "是否发布", "type": "boolean"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string"}, "dataset_id_list": {"title": "关联知识库 ID 列表", "description": "关联知识库ID列表（查询详情时返回）", "type": "array", "items": {"type": "string"}}}}}}}}}, "tags": ["应用"]}, "put": {"operationId": "修改应用", "summary": "修改应用", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": [], "type": "object", "properties": {"name": {"title": "应用名称", "description": "应用名称", "type": "string"}, "desc": {"title": "应用描述", "description": "应用描述", "type": "string"}, "model_id": {"title": "模型 id", "description": "模型 id", "type": "string"}, "dialogue_number": {"title": "多轮对话数量", "description": "多轮对话数量", "type": "number"}, "prologue": {"title": "开场白", "description": "开场白", "type": "string"}, "dataset_id_list": {"title": "关联知识库 ID 列表", "description": "关联知识库 ID 列表", "type": "array", "items": {"type": "string"}}, "dataset_setting": {"required": [""], "type": "object", "properties": {"top_n": {"title": "引用分段数", "description": "引用分段数", "type": "number", "default": 5}, "similarity": {"title": "相似度", "description": "相似度", "type": "number", "default": 0.6}, "max_paragraph_char_number": {"title": "最多引用字符数", "description": "最多引用字符数", "type": "number", "default": 3000}, "search_mode": {"title": "检索方式", "description": "embedding|keywords|blend", "type": "string", "default": "embedding"}, "no_references_setting": {"title": "未查询到引用分段", "required": ["status", "value"], "type": "object", "properties": {"status": {"title": "状态", "description": "ai作答|指定答案", "type": "string", "default": "ai_questioning"}, "value": {"title": "值", "description": "ai作答:就是题词,指定回答:就是指定回答内容", "type": "string", "default": "{question}"}}}}}, "model_setting": {"required": ["prompt"], "type": "object", "properties": {"prompt": {"title": "提示词", "description": "提示词", "type": "string", "default": "Known information:\n{data}\nAnswer requirements:\n- If you don't know the answer or don't get the answer, please answer \"No relevant information found in the knowledge base, it is recommended to consult relevant technical support or refer to official documents for operation\".\n- Avoid mentioning that you got the knowledge from <data></data>.\n- Please keep the answer consistent with the description in <data></data>.\n- Please use markdown syntax to optimize the format of the answer.\n- Please return the image link, link address and script language in <data></data> completely.\n- Please answer in the same language as the question.\nQuestion:\n{question}"}, "system": {"title": "系统提示词(角色)", "description": "系统提示词(角色)", "type": "string"}, "no_references_prompt": {"title": "无引用分段提示词", "description": "无引用分段提示词", "type": "string", "default": "{question}"}}}, "problem_optimization": {"title": "问题优化", "description": "是否开启问题优化", "type": "boolean", "default": true}, "icon": {"title": "icon", "description": "icon", "type": "string", "default": "/ui/favicon.ico"}, "type": {"title": "应用类型", "description": "应用类型   SIMPLE |  WORK_FLOW", "type": "string"}, "work_flow": {"required": [""], "type": "object", "properties": {"nodes": {"title": "节点列表", "description": "节点列表", "type": "array", "items": {"type": "object"}, "default": []}, "edges": {"title": "连线列表", "description": "连线列表", "type": "array", "items": {"type": "object"}, "default": []}}}, "problem_optimization_prompt": {"title": "问题优化提示词", "description": "问题优化提示词", "type": "string", "default": "()里面是用户问题,根据上下文回答揣测用户问题({question}) 要求: 输出一个补全问题,并且放在<data></data>标签中"}, "tts_model_id": {"title": "文本转语音模型 ID", "description": "文本转语音模型 ID", "type": "string"}, "stt_model_id": {"title": "语音转文本模型 ID", "description": "语音转文本模型 ID", "type": "string"}, "stt_model_enable": {"title": "是否开启语音转文本", "description": "是否开启语音转文本", "type": "string"}, "tts_model_enable": {"title": "是否开启文本转语音", "description": "是否开启文本转语音", "type": "string"}, "tts_type": {"title": "文本转语音类型", "description": "文本转语音类型", "type": "string"}}}}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "name", "desc", "model_id", "dialogue_number", "user_id", "status", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "", "description": "主键 id", "type": "string"}, "name": {"title": "应用名称", "description": "应用名称", "type": "string"}, "desc": {"title": "应用描述", "description": "应用描述", "type": "string"}, "model_id": {"title": "模型 id", "description": "模型 id", "type": "string"}, "dialogue_number": {"title": "多轮对话数量", "description": "多轮对话数量", "type": "number"}, "prologue": {"title": "开场白", "description": "开场白", "type": "string"}, "example": {"title": "示例列表", "description": "示例列表", "type": "array", "items": {"type": "string"}}, "user_id": {"title": "所属用户", "description": "所属用户", "type": "string"}, "status": {"title": "是否发布", "description": "是否发布", "type": "boolean"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string"}, "dataset_id_list": {"title": "关联知识库 ID 列表", "description": "关联知识库ID列表（查询详情时返回）", "type": "array", "items": {"type": "string"}}}}}}}}}, "tags": ["应用"]}, "delete": {"operationId": "删除应用", "summary": "删除应用", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["应用"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/access_token": {"get": {"operationId": "获取应用 AccessToken 信息", "summary": "获取应用 AccessToken 信息", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["应用/公共访问"]}, "put": {"operationId": "修改应用 AccessToken", "summary": "修改应用 AccessToken", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": [], "type": "object", "properties": {"access_token_reset": {"title": "重置 Token", "description": "重置 Token", "type": "boolean"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "access_num": {"title": "访问次数", "description": "访问次数", "type": "number"}, "white_active": {"title": "是否开启白名单", "description": "是否开启白名单", "type": "boolean"}, "white_list": {"title": "白名单", "description": "白名单", "type": "array", "items": {"type": "string"}}, "show_source": {"title": "是否显示知识来源", "description": "是否显示知识来源", "type": "boolean"}, "language": {"title": "语言", "description": "语言", "type": "string"}}}}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": "", "schema": {"required": [], "type": "object", "properties": {"access_token_reset": {"title": "重置 Token", "description": "重置 Token", "type": "boolean"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "access_num": {"title": "访问次数", "description": "访问次数", "type": "number"}, "white_active": {"title": "是否开启白名单", "description": "是否开启白名单", "type": "boolean"}, "white_list": {"title": "白名单", "description": "白名单", "type": "array", "items": {"type": "string"}}, "show_source": {"title": "是否显示知识来源", "description": "是否显示知识来源", "type": "boolean"}, "language": {"title": "语言", "description": "语言", "type": "string"}}}}}, "tags": ["应用/公共访问"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/api_key": {"get": {"operationId": "获取应用 API_KEY 列表", "summary": "获取应用 API_KEY 列表", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["应用/API_KEY"]}, "post": {"operationId": "添加 ApiKey", "summary": "添加 ApiKey", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"201": {"description": ""}}, "tags": ["应用/API_KEY"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/api_key/{api_key_id}": {"put": {"operationId": "修改应用 API_KEY", "summary": "修改应用 API_KEY", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": [], "type": "object", "properties": {"is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "allow_cross_domain": {"title": "是否允许跨域", "description": "是否允许跨域", "type": "boolean"}, "cross_domain_list": {"title": "跨域列表", "type": "array", "items": {"type": "string"}}}}}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "api_key_id", "in": "path", "description": "应用 api_key id", "required": true, "type": "string"}], "responses": {"200": {"description": "", "schema": {"required": [], "type": "object", "properties": {"is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "allow_cross_domain": {"title": "是否允许跨域", "description": "是否允许跨域", "type": "boolean"}, "cross_domain_list": {"title": "跨域列表", "type": "array", "items": {"type": "string"}}}}}}, "tags": ["应用/API_KEY"]}, "delete": {"operationId": "删除应用 API_KEY", "summary": "删除应用 API_KEY", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "api_key_id", "in": "path", "description": "应用 api_key id", "required": true, "type": "string"}], "responses": {"204": {"description": ""}}, "tags": ["应用/API_KEY"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "api_key_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/application": {"get": {"operationId": "获取当前用户创建的应用列表", "summary": "获取当前用户创建的应用列表", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["应用/对话"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/application/{app_id}": {"get": {"operationId": "获取应用数据", "summary": "获取应用数据", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["应用"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "app_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat": {"get": {"operationId": "获取对话列表", "summary": "获取对话列表", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "history_day", "in": "query", "description": "历史天数", "required": true, "type": "number"}, {"name": "abstract", "in": "query", "description": "摘要", "required": false, "type": "string"}, {"name": "min_star", "in": "query", "description": "最小点赞数", "required": false, "type": "integer"}, {"name": "min_trample", "in": "query", "description": "最小点踩数", "required": false, "type": "integer"}, {"name": "comparer", "in": "query", "description": "or|and 比较器", "required": false, "type": "string"}, {"name": "start_time", "in": "query", "description": "start time", "required": true, "type": "string"}, {"name": "end_time", "in": "query", "description": "结束时间", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "application", "abstract", "chat_record_count", "mark_sum", "star_num", "trample_num", "update_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "application_id": {"title": "应用 ID", "description": "应用 ID", "type": "string", "default": "应用 ID"}, "abstract": {"title": "摘要", "description": "摘要", "type": "string", "default": "摘要"}, "chat_id": {"title": "对话 ID", "description": "对话 ID", "type": "string", "default": "对话 ID"}, "chat_record_count": {"title": "对话提问数量", "description": "对话提问数量", "type": "string", "default": 0}, "mark_sum": {"title": "标记数量", "description": "标记数量", "type": "string", "default": 1}, "star_num": {"title": "点赞数量", "description": "点赞数量", "type": "string", "default": 1}, "trample_num": {"title": "点踩数量", "description": "点踩数量", "type": "number", "default": 1}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}, "tags": ["应用/对话日志"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/client/{chat_id}": {"put": {"operationId": "客户端修改对话摘要", "summary": "客户端修改对话摘要", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["abstract"], "type": "object", "properties": {"abstract": {"title": "摘要", "description": "摘要", "type": "string"}}}}], "responses": {"200": {"description": "", "schema": {"required": ["abstract"], "type": "object", "properties": {"abstract": {"title": "摘要", "description": "摘要", "type": "string"}}}}}, "tags": ["应用/对话日志"]}, "delete": {"operationId": "客户端删除对话", "summary": "客户端删除对话", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["应用/对话日志"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/client/{current_page}/{page_size}": {"get": {"operationId": "获取客户对话列表分页", "summary": "获取客户对话列表分页", "description": "", "parameters": [{"name": "current_page", "in": "path", "description": "当前页", "required": true, "type": "integer"}, {"name": "page_size", "in": "path", "description": "每页数量", "required": true, "type": "integer"}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "object", "properties": {"total": {"title": "总条数", "description": "总条数", "type": "integer", "default": 1}, "records": {"type": "array", "items": {"required": ["id", "application", "abstract", "chat_record_count", "mark_sum", "star_num", "trample_num", "update_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "application_id": {"title": "应用 ID", "description": "应用 ID", "type": "string", "default": "应用 ID"}, "abstract": {"title": "摘要", "description": "摘要", "type": "string", "default": "摘要"}, "chat_id": {"title": "对话 ID", "description": "对话 ID", "type": "string", "default": "对话 ID"}, "chat_record_count": {"title": "对话提问数量", "description": "对话提问数量", "type": "string", "default": 0}, "mark_sum": {"title": "标记数量", "description": "标记数量", "type": "string", "default": 1}, "star_num": {"title": "点赞数量", "description": "点赞数量", "type": "string", "default": 1}, "trample_num": {"title": "点踩数量", "description": "点踩数量", "type": "number", "default": 1}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}, "current": {"title": "当前页", "description": "当前页", "type": "integer", "default": 1}, "size": {"title": "每页数量", "description": "每页数量", "type": "integer", "default": 10}}}}}}}, "tags": ["应用/对话日志"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "current_page", "in": "path", "required": true, "type": "string"}, {"name": "page_size", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/completions": {"post": {"operationId": "openai接口对话", "summary": "openai接口对话", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["message"], "type": "object", "properties": {"messages": {"title": "问题", "description": "问题", "type": "array", "items": {"required": ["role", "content"], "type": "object", "properties": {"content": {"title": "问题内容", "type": "string", "default": ""}, "role": {"title": "角色", "type": "string", "default": "user"}}}}, "chat_id": {"title": "对话 ID", "type": "string"}, "re_chat": {"title": "重新生成", "type": "boolean", "default": false}, "stream": {"title": "流式输出", "type": "boolean", "default": true}}}}], "responses": {"201": {"description": "", "schema": {"required": ["message"], "type": "object", "properties": {"messages": {"title": "问题", "description": "问题", "type": "array", "items": {"required": ["role", "content"], "type": "object", "properties": {"content": {"title": "问题内容", "type": "string", "default": ""}, "role": {"title": "角色", "type": "string", "default": "user"}}}}, "chat_id": {"title": "对话 ID", "type": "string"}, "re_chat": {"title": "重新生成", "type": "boolean", "default": false}, "stream": {"title": "流式输出", "type": "boolean", "default": true}}}}}, "tags": ["openai对话"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/export": {"post": {"operationId": "导出对话", "summary": "导出对话", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "history_day", "in": "query", "description": "历史天数", "required": true, "type": "number"}, {"name": "abstract", "in": "query", "description": "摘要", "required": false, "type": "string"}, {"name": "min_star", "in": "query", "description": "最小点赞数", "required": false, "type": "integer"}, {"name": "min_trample", "in": "query", "description": "最小点踩数", "required": false, "type": "integer"}, {"name": "comparer", "in": "query", "description": "or|and 比较器", "required": false, "type": "string"}, {"name": "start_time", "in": "query", "description": "start time", "required": true, "type": "string"}, {"name": "end_time", "in": "query", "description": "结束时间", "required": true, "type": "string"}], "responses": {"201": {"description": ""}}, "tags": ["应用/对话日志"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/open": {"get": {"operationId": "获取应用id对应的会话id", "summary": "获取应用id对应的会话id", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["应用/对话"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/{chat_id}": {"delete": {"operationId": "删除对话", "summary": "删除对话", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["应用/对话日志"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/{chat_id}/chat_record/": {"get": {"operationId": "获取对话记录列表", "summary": "获取对话记录列表", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "description": "对话 ID", "required": true, "type": "string"}, {"name": "order_asc", "in": "query", "description": "是否升序", "required": false, "type": "boolean"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "chat", "vote_status", "dataset", "paragraph", "source_id", "source_type", "message_tokens", "answer_tokens", "problem_text", "answer_text", "improve_paragraph_id_list"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "chat": {"title": "会话日志 id", "description": "对话日志 ID", "type": "string", "default": "对话日志 ID"}, "vote_status": {"title": "投票状态", "description": "投票状态", "type": "string", "default": "投票状态"}, "dataset": {"title": "数据集 id", "description": "数据集 id", "type": "string", "default": "数据集 id"}, "paragraph": {"title": "段落 ID", "description": "段落 ID", "type": "string", "default": 1}, "source_id": {"title": "资源 ID", "description": "资源 ID", "type": "string", "default": 1}, "source_type": {"title": "资源类型", "description": "资源类型", "type": "string", "default": "xxx"}, "message_tokens": {"title": "问题消耗 token 数量", "description": "问题消耗 token 数量", "type": "integer", "default": 0}, "answer_tokens": {"title": "答案消耗 token 数量", "description": "答案消耗 token 数量", "type": "integer", "default": 0}, "improve_paragraph_id_list": {"title": "改进标注列表", "description": "改进标注列表", "type": "string", "default": []}, "index": {"title": "对应会话对应下标", "description": "对应会话id对应下标", "type": "string", "default": 0}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}, "tags": ["应用/对话日志"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/{chat_id}/chat_record/{chat_record_id}": {"get": {"operationId": "获取对话记录详情", "summary": "获取对话记录详情", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "description": "对话 ID", "required": true, "type": "string"}, {"name": "order_asc", "in": "query", "description": "是否升序", "required": false, "type": "boolean"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "chat", "vote_status", "dataset", "paragraph", "source_id", "source_type", "message_tokens", "answer_tokens", "problem_text", "answer_text", "improve_paragraph_id_list"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "chat": {"title": "会话日志 id", "description": "对话日志 ID", "type": "string", "default": "对话日志 ID"}, "vote_status": {"title": "投票状态", "description": "投票状态", "type": "string", "default": "投票状态"}, "dataset": {"title": "数据集 id", "description": "数据集 id", "type": "string", "default": "数据集 id"}, "paragraph": {"title": "段落 ID", "description": "段落 ID", "type": "string", "default": 1}, "source_id": {"title": "资源 ID", "description": "资源 ID", "type": "string", "default": 1}, "source_type": {"title": "资源类型", "description": "资源类型", "type": "string", "default": "xxx"}, "message_tokens": {"title": "问题消耗 token 数量", "description": "问题消耗 token 数量", "type": "integer", "default": 0}, "answer_tokens": {"title": "答案消耗 token 数量", "description": "答案消耗 token 数量", "type": "integer", "default": 0}, "improve_paragraph_id_list": {"title": "改进标注列表", "description": "改进标注列表", "type": "string", "default": []}, "index": {"title": "对应会话对应下标", "description": "对应会话id对应下标", "type": "string", "default": 0}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}, "tags": ["应用/对话日志"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_record_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/{chat_id}/chat_record/{chat_record_id}/dataset/{dataset_id}/document_id/{document_id}/improve": {"post": {"operationId": "添加到知识库", "summary": "添加到知识库", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["dataset_id", "document_id", "chat_ids"], "type": "object", "properties": {"dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string"}, "document_id": {"title": "文档 ID", "description": "文档 ID", "type": "string"}, "chat_ids": {"title": "会话 id 列表", "description": "会话 id 列表", "type": "array", "items": {"type": "string"}}}}}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"201": {"description": "", "schema": {"required": ["dataset_id", "document_id", "chat_ids"], "type": "object", "properties": {"dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string"}, "document_id": {"title": "文档 ID", "description": "文档 ID", "type": "string"}, "chat_ids": {"title": "会话 id 列表", "description": "会话 id 列表", "type": "array", "items": {"type": "string"}}}}}}, "tags": ["应用/对话日志/添加到知识库"]}, "put": {"operationId": "标注", "summary": "标注", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["content"], "type": "object", "properties": {"title": {"title": "段落标题", "description": "段落标题", "type": "string"}, "content": {"title": "段落内容", "description": "段落内容", "type": "string"}}}}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "description": "对话 ID", "required": true, "type": "string"}, {"name": "chat_record_id", "in": "path", "description": "对话记录 ID", "required": true, "type": "string"}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "chat", "vote_status", "dataset", "paragraph", "source_id", "source_type", "message_tokens", "answer_tokens", "problem_text", "answer_text", "improve_paragraph_id_list"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "chat": {"title": "会话日志 id", "description": "对话日志 ID", "type": "string", "default": "对话日志 ID"}, "vote_status": {"title": "投票状态", "description": "投票状态", "type": "string", "default": "投票状态"}, "dataset": {"title": "数据集 id", "description": "数据集 id", "type": "string", "default": "数据集 id"}, "paragraph": {"title": "段落 ID", "description": "段落 ID", "type": "string", "default": 1}, "source_id": {"title": "资源 ID", "description": "资源 ID", "type": "string", "default": 1}, "source_type": {"title": "资源类型", "description": "资源类型", "type": "string", "default": "xxx"}, "message_tokens": {"title": "问题消耗 token 数量", "description": "问题消耗 token 数量", "type": "integer", "default": 0}, "answer_tokens": {"title": "答案消耗 token 数量", "description": "答案消耗 token 数量", "type": "integer", "default": 0}, "improve_paragraph_id_list": {"title": "改进标注列表", "description": "改进标注列表", "type": "string", "default": []}, "index": {"title": "对应会话对应下标", "description": "对应会话id对应下标", "type": "string", "default": 0}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["应用/对话日志/标注"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_record_id", "in": "path", "required": true, "type": "string"}, {"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/{chat_id}/chat_record/{chat_record_id}/dataset/{dataset_id}/document_id/{document_id}/improve/{paragraph_id}": {"delete": {"operationId": "删除标注", "summary": "删除标注", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "description": "对话 ID", "required": true, "type": "string"}, {"name": "chat_record_id", "in": "path", "description": "对话记录 ID", "required": true, "type": "string"}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "chat", "vote_status", "dataset", "paragraph", "source_id", "source_type", "message_tokens", "answer_tokens", "problem_text", "answer_text", "improve_paragraph_id_list"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "chat": {"title": "会话日志 id", "description": "对话日志 ID", "type": "string", "default": "对话日志 ID"}, "vote_status": {"title": "投票状态", "description": "投票状态", "type": "string", "default": "投票状态"}, "dataset": {"title": "数据集 id", "description": "数据集 id", "type": "string", "default": "数据集 id"}, "paragraph": {"title": "段落 ID", "description": "段落 ID", "type": "string", "default": 1}, "source_id": {"title": "资源 ID", "description": "资源 ID", "type": "string", "default": 1}, "source_type": {"title": "资源类型", "description": "资源类型", "type": "string", "default": "xxx"}, "message_tokens": {"title": "问题消耗 token 数量", "description": "问题消耗 token 数量", "type": "integer", "default": 0}, "answer_tokens": {"title": "答案消耗 token 数量", "description": "答案消耗 token 数量", "type": "integer", "default": 0}, "improve_paragraph_id_list": {"title": "改进标注列表", "description": "改进标注列表", "type": "string", "default": []}, "index": {"title": "对应会话对应下标", "description": "对应会话id对应下标", "type": "string", "default": 0}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["应用/对话日志/标注"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_record_id", "in": "path", "required": true, "type": "string"}, {"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}, {"name": "paragraph_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/{chat_id}/chat_record/{chat_record_id}/improve": {"get": {"operationId": "获取标记段落列表", "summary": "获取标记段落列表", "description": "", "parameters": [], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "content", "hit_num", "star_num", "trample_num", "is_active", "dataset_id", "document_id", "title", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "content": {"title": "段落内容", "description": "段落内容", "type": "string", "default": "段落内容"}, "title": {"title": "标题", "description": "标题", "type": "string", "default": "xxx 描述"}, "hit_num": {"title": "命中数量", "description": "命中数量", "type": "integer", "default": 1}, "star_num": {"title": "点赞数", "description": "点赞数", "type": "integer", "default": 1}, "trample_num": {"title": "点踩数", "description": "点踩数", "type": "integer", "default": 1}, "dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string", "default": "xxx"}, "document_id": {"title": "文档 ID", "description": "文档 ID", "type": "string", "default": "xxx"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["应用/对话日志/标注"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_record_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/{chat_id}/chat_record/{chat_record_id}/vote": {"put": {"operationId": "点赞,点踩", "summary": "点赞,点踩", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["vote_status"], "type": "object", "properties": {"vote_status": {"title": "投票状态", "description": "-1:取消投票|0:赞同|1:反对", "type": "string"}}}}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "description": "对话 ID", "required": true, "type": "string"}, {"name": "chat_record_id", "in": "path", "description": "对话记录 ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["应用/对话"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_record_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/{chat_id}/chat_record/{current_page}/{page_size}": {"get": {"operationId": "获取对话历史列表分页", "summary": "获取对话历史列表分页", "description": "", "parameters": [{"name": "current_page", "in": "path", "description": "当前页", "required": true, "type": "integer"}, {"name": "page_size", "in": "path", "description": "每页数量", "required": true, "type": "integer"}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "description": "对话 ID", "required": true, "type": "string"}, {"name": "order_asc", "in": "query", "description": "是否升序", "required": false, "type": "boolean"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "object", "properties": {"total": {"title": "总条数", "description": "总条数", "type": "integer", "default": 1}, "records": {"type": "array", "items": {"required": ["id", "chat", "vote_status", "dataset", "paragraph", "source_id", "source_type", "message_tokens", "answer_tokens", "problem_text", "answer_text", "improve_paragraph_id_list"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "chat": {"title": "会话日志 id", "description": "对话日志 ID", "type": "string", "default": "对话日志 ID"}, "vote_status": {"title": "投票状态", "description": "投票状态", "type": "string", "default": "投票状态"}, "dataset": {"title": "数据集 id", "description": "数据集 id", "type": "string", "default": "数据集 id"}, "paragraph": {"title": "段落 ID", "description": "段落 ID", "type": "string", "default": 1}, "source_id": {"title": "资源 ID", "description": "资源 ID", "type": "string", "default": 1}, "source_type": {"title": "资源类型", "description": "资源类型", "type": "string", "default": "xxx"}, "message_tokens": {"title": "问题消耗 token 数量", "description": "问题消耗 token 数量", "type": "integer", "default": 0}, "answer_tokens": {"title": "答案消耗 token 数量", "description": "答案消耗 token 数量", "type": "integer", "default": 0}, "improve_paragraph_id_list": {"title": "改进标注列表", "description": "改进标注列表", "type": "string", "default": []}, "index": {"title": "对应会话对应下标", "description": "对应会话id对应下标", "type": "string", "default": 0}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}, "current": {"title": "当前页", "description": "当前页", "type": "integer", "default": 1}, "size": {"title": "每页数量", "description": "每页数量", "type": "integer", "default": 10}}}}}}}, "tags": ["应用/对话日志"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "required": true, "type": "string"}, {"name": "current_page", "in": "path", "required": true, "type": "string"}, {"name": "page_size", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/{chat_id}/upload_file": {"post": {"operationId": "上传文件", "summary": "上传文件", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "description": "对话 ID", "required": true, "type": "string"}, {"name": "file", "in": "formData", "description": "上传文件", "required": true, "type": "file"}], "responses": {"201": {"description": ""}}, "consumes": ["multipart/form-data"], "tags": ["应用/对话日志"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/chat/{current_page}/{page_size}": {"get": {"operationId": "获取对话列表分页", "summary": "获取对话列表分页", "description": "", "parameters": [{"name": "current_page", "in": "path", "description": "当前页", "required": true, "type": "integer"}, {"name": "page_size", "in": "path", "description": "每页数量", "required": true, "type": "integer"}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "history_day", "in": "query", "description": "历史天数", "required": true, "type": "number"}, {"name": "abstract", "in": "query", "description": "摘要", "required": false, "type": "string"}, {"name": "min_star", "in": "query", "description": "最小点赞数", "required": false, "type": "integer"}, {"name": "min_trample", "in": "query", "description": "最小点踩数", "required": false, "type": "integer"}, {"name": "comparer", "in": "query", "description": "or|and 比较器", "required": false, "type": "string"}, {"name": "start_time", "in": "query", "description": "start time", "required": true, "type": "string"}, {"name": "end_time", "in": "query", "description": "结束时间", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "object", "properties": {"total": {"title": "总条数", "description": "总条数", "type": "integer", "default": 1}, "records": {"type": "array", "items": {"required": ["id", "application", "abstract", "chat_record_count", "mark_sum", "star_num", "trample_num", "update_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "application_id": {"title": "应用 ID", "description": "应用 ID", "type": "string", "default": "应用 ID"}, "abstract": {"title": "摘要", "description": "摘要", "type": "string", "default": "摘要"}, "chat_id": {"title": "对话 ID", "description": "对话 ID", "type": "string", "default": "对话 ID"}, "chat_record_count": {"title": "对话提问数量", "description": "对话提问数量", "type": "string", "default": 0}, "mark_sum": {"title": "标记数量", "description": "标记数量", "type": "string", "default": 1}, "star_num": {"title": "点赞数量", "description": "点赞数量", "type": "string", "default": 1}, "trample_num": {"title": "点踩数量", "description": "点踩数量", "type": "number", "default": 1}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}, "current": {"title": "当前页", "description": "当前页", "type": "integer", "default": 1}, "size": {"title": "每页数量", "description": "每页数量", "type": "integer", "default": 10}}}}}}}, "tags": ["应用/对话日志"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "current_page", "in": "path", "required": true, "type": "string"}, {"name": "page_size", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/dataset/{dataset_id}/improve": {"post": {"operationId": "添加到知识库", "summary": "添加到知识库", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["dataset_id", "document_id", "chat_ids"], "type": "object", "properties": {"dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string"}, "document_id": {"title": "文档 ID", "description": "文档 ID", "type": "string"}, "chat_ids": {"title": "会话 id 列表", "description": "会话 id 列表", "type": "array", "items": {"type": "string"}}}}}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"201": {"description": "", "schema": {"required": ["dataset_id", "document_id", "chat_ids"], "type": "object", "properties": {"dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string"}, "document_id": {"title": "文档 ID", "description": "文档 ID", "type": "string"}, "chat_ids": {"title": "会话 id 列表", "description": "会话 id 列表", "type": "array", "items": {"type": "string"}}}}}}, "tags": ["应用/对话日志/添加到知识库"]}, "put": {"operationId": "标注", "summary": "标注", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["content"], "type": "object", "properties": {"title": {"title": "段落标题", "description": "段落标题", "type": "string"}, "content": {"title": "段落内容", "description": "段落内容", "type": "string"}}}}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "chat_id", "in": "path", "description": "对话 ID", "required": true, "type": "string"}, {"name": "chat_record_id", "in": "path", "description": "对话记录 ID", "required": true, "type": "string"}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "chat", "vote_status", "dataset", "paragraph", "source_id", "source_type", "message_tokens", "answer_tokens", "problem_text", "answer_text", "improve_paragraph_id_list"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "chat": {"title": "会话日志 id", "description": "对话日志 ID", "type": "string", "default": "对话日志 ID"}, "vote_status": {"title": "投票状态", "description": "投票状态", "type": "string", "default": "投票状态"}, "dataset": {"title": "数据集 id", "description": "数据集 id", "type": "string", "default": "数据集 id"}, "paragraph": {"title": "段落 ID", "description": "段落 ID", "type": "string", "default": 1}, "source_id": {"title": "资源 ID", "description": "资源 ID", "type": "string", "default": 1}, "source_type": {"title": "资源类型", "description": "资源类型", "type": "string", "default": "xxx"}, "message_tokens": {"title": "问题消耗 token 数量", "description": "问题消耗 token 数量", "type": "integer", "default": 0}, "answer_tokens": {"title": "答案消耗 token 数量", "description": "答案消耗 token 数量", "type": "integer", "default": 0}, "improve_paragraph_id_list": {"title": "改进标注列表", "description": "改进标注列表", "type": "string", "default": []}, "index": {"title": "对应会话对应下标", "description": "对应会话id对应下标", "type": "string", "default": 0}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["应用/对话日志/标注"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/edit_icon": {"put": {"operationId": "修改应用图标", "summary": "修改应用图标", "description": "", "parameters": [{"name": "file", "in": "formData", "description": "上传文件", "required": true, "type": "file"}], "responses": {"200": {"description": ""}}, "consumes": ["multipart/form-data"], "tags": ["应用"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/export": {"get": {"operationId": "导出应用", "summary": "导出应用", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["应用"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/function_lib": {"get": {"operationId": "获取函数库列表", "summary": "获取函数库列表", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["应用"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/function_lib/{function_lib_id}": {"get": {"operationId": "获取函数库详情", "summary": "获取函数库详情", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["应用"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "function_lib_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/hit_test": {"get": {"operationId": "命中测试列表", "summary": "命中测试列表", "description": "", "parameters": [{"name": "query_text", "in": "query", "description": "查询文本", "required": true, "type": "string"}, {"name": "top_number", "in": "query", "description": "topN", "required": true, "type": "number", "default": 10}, {"name": "similarity", "in": "query", "description": "相似度", "required": true, "type": "number", "default": 0.6}, {"name": "search_mode", "in": "query", "description": "检索模式 embedding|keywords|blend", "required": true, "type": "string", "default": "embedding"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "content", "hit_num", "star_num", "trample_num", "is_active", "dataset_id", "document_id", "title", "similarity", "comprehensive_score", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "content": {"title": "段落内容", "description": "段落内容", "type": "string", "default": "段落内容"}, "title": {"title": "标题", "description": "标题", "type": "string", "default": "xxx 描述"}, "hit_num": {"title": "命中数量", "description": "命中数量", "type": "integer", "default": 1}, "star_num": {"title": "点赞数量", "description": "点赞数量", "type": "integer", "default": 1}, "trample_num": {"title": "点踩数", "description": "点踩数", "type": "integer", "default": 1}, "dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string", "default": "xxx"}, "document_id": {"title": "文档 id", "description": "文档 id", "type": "string", "default": "xxx"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "similarity": {"title": "相关性得分", "description": "相关性得分", "type": "number", "default": true}, "comprehensive_score": {"title": "综合得分,用于排序", "description": "综合得分,用于排序", "type": "number", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}, "tags": ["应用"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/list_dataset": {"get": {"operationId": "获取当前应用可用的知识库", "summary": "获取当前应用可用的知识库", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "name", "desc", "user_id", "char_length", "document_count", "update_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "知识库名称", "description": "知识库名称", "type": "string", "default": "知识库名称"}, "desc": {"title": "知识库描述", "description": "知识库描述", "type": "string", "default": "知识库描述"}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string", "default": "user_xxxx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "string", "default": 10}, "document_count": {"title": "文档数量", "description": "文档数量", "type": "string", "default": 1}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}, "tags": ["应用"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/model": {"get": {"operationId": "获取模型列表", "summary": "获取模型列表", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "model_type", "in": "query", "description": "模型类型", "required": false, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["应用"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/model_params_form/{model_id}": {"get": {"operationId": "获取模型参数表单", "summary": "获取模型参数表单", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["应用"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "model_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/play_demo_text": {"post": {"operationId": "api_application_play_demo_text_create", "description": "", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["application"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/publish": {"put": {"operationId": "发布应用", "summary": "发布应用", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": [], "type": "object", "properties": {"work_flow": {"required": [""], "type": "object", "properties": {"nodes": {"title": "节点列表", "description": "节点列表", "type": "array", "items": {"type": "object"}, "default": []}, "edges": {"title": "连线列表", "description": "连线列表", "type": "array", "items": {"type": "object"}, "default": []}}}}}}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["应用"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/setting": {"get": {"operationId": "专业版/获取应用详情", "summary": "专业版/获取应用详情", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "consumes": ["multipart/form-data", "application/x-www-form-urlencoded"], "tags": ["专业版/应用/公共访问"]}, "put": {"operationId": "专业版/修改应用设置", "summary": "专业版/修改应用设置", "description": "", "parameters": [{"name": "show_source", "in": "formData", "description": "是否显示来源", "required": true, "type": "boolean"}, {"name": "show_history", "in": "formData", "description": "是否显示历史记录", "required": true, "type": "boolean"}, {"name": "draggable", "in": "formData", "description": "是否可拖动", "required": true, "type": "boolean"}, {"name": "show_guide", "in": "formData", "description": "是否显示引导图", "required": true, "type": "boolean"}, {"name": "avatar", "in": "formData", "description": "头像", "required": false, "type": "file"}, {"name": "float_icon", "in": "formData", "description": "浮窗图标", "required": false, "type": "file"}, {"name": "disclaimer", "in": "formData", "description": "免责声明", "required": false, "type": "boolean"}, {"name": "disclaimer_value", "in": "formData", "description": "免责声明的值", "required": false, "type": "string"}, {"name": "custom_theme", "in": "formData", "description": "自定义主题 {theme_color:, header_font_color: }", "required": false, "type": "object"}, {"name": "user_avatar", "in": "formData", "description": "用户头像", "required": false, "type": "file"}, {"name": "float_location", "in": "formData", "description": "浮窗位置 {top: 0, left: 0}", "required": false, "type": "object"}], "responses": {"200": {"description": ""}}, "consumes": ["multipart/form-data", "application/x-www-form-urlencoded"], "tags": ["专业版/应用/公共访问"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/speech_to_text": {"post": {"operationId": "api_application_speech_to_text_create", "description": "", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["application"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/statistics/chat_record_aggregate": {"get": {"operationId": "对话相关统计", "summary": "对话相关统计", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "start_time", "in": "query", "description": "开始时间", "required": true, "type": "string"}, {"name": "end_time", "in": "query", "description": "结束时间", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["star_num", "trample_num", "tokens_num", "chat_record_count"], "type": "object", "properties": {"star_num": {"title": "点赞数", "description": "点赞数", "type": "number"}, "trample_num": {"title": "点踩数", "description": "点踩数", "type": "number"}, "tokens_num": {"title": "token使用数量", "description": "token使用数量", "type": "number"}, "chat_record_count": {"title": "对话次数", "description": "对话次数", "type": "number"}, "customer_num": {"title": "客户数量", "description": "客户数量", "type": "number"}, "customer_added_count": {"title": "客户新增数量", "description": "客户新增数量", "type": "number"}, "day": {"title": "日期", "description": "日期,只有查询趋势的时候才有该字段", "type": "string"}}}}}}}, "tags": ["应用/统计"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/statistics/chat_record_aggregate_trend": {"get": {"operationId": "对话相关统计趋势", "summary": "对话相关统计趋势", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "start_time", "in": "query", "description": "开始时间", "required": true, "type": "string"}, {"name": "end_time", "in": "query", "description": "结束时间", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["star_num", "trample_num", "tokens_num", "chat_record_count"], "type": "object", "properties": {"star_num": {"title": "点赞数", "description": "点赞数", "type": "number"}, "trample_num": {"title": "点踩数", "description": "点踩数", "type": "number"}, "tokens_num": {"title": "token使用数量", "description": "token使用数量", "type": "number"}, "chat_record_count": {"title": "对话次数", "description": "对话次数", "type": "number"}, "customer_num": {"title": "客户数量", "description": "客户数量", "type": "number"}, "customer_added_count": {"title": "客户新增数量", "description": "客户新增数量", "type": "number"}, "day": {"title": "日期", "description": "日期,只有查询趋势的时候才有该字段", "type": "string"}}}}}}}}, "tags": ["应用/统计"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/statistics/customer_count": {"get": {"operationId": "用户统计", "summary": "用户统计", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "start_time", "in": "query", "description": "开始时间", "required": true, "type": "string"}, {"name": "end_time", "in": "query", "description": "结束时间", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["added_count"], "type": "object", "properties": {"today_added_count": {"title": "今日新增数量", "description": "今日新增数量", "type": "number"}, "added_count": {"title": "新增数量", "description": "新增数量", "type": "number"}}}}}}}, "tags": ["应用/统计"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/statistics/customer_count_trend": {"get": {"operationId": "用户统计趋势", "summary": "用户统计趋势", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "start_time", "in": "query", "description": "开始时间", "required": true, "type": "string"}, {"name": "end_time", "in": "query", "description": "结束时间", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["added_count"], "type": "object", "properties": {"added_count": {"title": "新增数量", "description": "新增数量", "type": "number"}, "day": {"title": "日期", "description": "日期", "type": "string"}}}}}}}}, "tags": ["应用/统计"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/text_to_speech": {"post": {"operationId": "文本转语音类型", "summary": "文本转语音类型", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": [], "type": "object", "properties": {"text": {"title": "文本", "description": "文本", "type": "string"}}}}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["应用"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/work_flow_version": {"get": {"operationId": "获取应用列表", "summary": "获取应用列表", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "name", "in": "query", "description": "版本名称", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "name", "work_flow", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "主键 id", "description": "主键 id", "type": "number"}, "name": {"title": "版本名称", "description": "版本名称", "type": "number"}, "work_flow": {"title": "工作流数据", "description": "工作流数据", "type": "string"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string"}}}}}}}}, "tags": ["应用/版本"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/work_flow_version/{current_page}/{page_size}": {"get": {"operationId": "获取应用版本列表分页", "summary": "获取应用版本列表分页", "description": "", "parameters": [{"name": "current_page", "in": "path", "description": "当前页", "required": true, "type": "integer"}, {"name": "page_size", "in": "path", "description": "每页数量", "required": true, "type": "integer"}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "name", "in": "query", "description": "版本名称", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "object", "properties": {"total": {"title": "总条数", "description": "总条数", "type": "integer", "default": 1}, "records": {"type": "array", "items": {"required": ["id", "name", "work_flow", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "主键 id", "description": "主键 id", "type": "number"}, "name": {"title": "版本名称", "description": "版本名称", "type": "number"}, "work_flow": {"title": "工作流数据", "description": "工作流数据", "type": "string"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string"}}}}, "current": {"title": "当前页", "description": "当前页", "type": "integer", "default": 1}, "size": {"title": "每页数量", "description": "每页数量", "type": "integer", "default": 10}}}}}}}, "tags": ["应用/版本"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "current_page", "in": "path", "required": true, "type": "string"}, {"name": "page_size", "in": "path", "required": true, "type": "string"}]}, "/api/application/{application_id}/work_flow_version/{work_flow_version_id}": {"get": {"operationId": "获取应用版本详情", "summary": "获取应用版本详情", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "work_flow_version_id", "in": "path", "description": "应用版本 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "name", "work_flow", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "主键 id", "description": "主键 id", "type": "number"}, "name": {"title": "版本名称", "description": "版本名称", "type": "number"}, "work_flow": {"title": "工作流数据", "description": "工作流数据", "type": "string"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string"}}}}}}}, "tags": ["应用/版本"]}, "put": {"operationId": "修改应用版本信息", "summary": "修改应用版本信息", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": [], "type": "object", "properties": {"name": {"title": "版本名称", "description": "版本名称", "type": "string"}}}}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "work_flow_version_id", "in": "path", "description": "应用版本 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "name", "work_flow", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "主键 id", "description": "主键 id", "type": "number"}, "name": {"title": "版本名称", "description": "版本名称", "type": "number"}, "work_flow": {"title": "工作流数据", "description": "工作流数据", "type": "string"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string"}}}}}}}, "tags": ["应用/版本"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "work_flow_version_id", "in": "path", "required": true, "type": "string"}]}, "/api/application/{current_page}/{page_size}": {"get": {"operationId": "获取应用列表分页", "summary": "获取应用列表分页", "description": "", "parameters": [{"name": "current_page", "in": "path", "description": "当前页", "required": true, "type": "integer"}, {"name": "page_size", "in": "path", "description": "每页数量", "required": true, "type": "integer"}, {"name": "name", "in": "query", "description": "应用名称", "required": false, "type": "string"}, {"name": "desc", "in": "query", "description": "应用描述", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "object", "properties": {"total": {"title": "总条数", "description": "总条数", "type": "integer", "default": 1}, "records": {"type": "array", "items": {"required": ["id", "name", "desc", "model_id", "dialogue_number", "user_id", "status", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "", "description": "主键 id", "type": "string"}, "name": {"title": "应用名称", "description": "应用名称", "type": "string"}, "desc": {"title": "应用描述", "description": "应用描述", "type": "string"}, "model_id": {"title": "模型 id", "description": "模型 id", "type": "string"}, "dialogue_number": {"title": "多轮对话数量", "description": "多轮对话数量", "type": "number"}, "prologue": {"title": "开场白", "description": "开场白", "type": "string"}, "example": {"title": "示例列表", "description": "示例列表", "type": "array", "items": {"type": "string"}}, "user_id": {"title": "所属用户", "description": "所属用户", "type": "string"}, "status": {"title": "是否发布", "description": "是否发布", "type": "boolean"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "修改时间", "description": "修改时间", "type": "string"}, "dataset_id_list": {"title": "关联知识库 ID 列表", "description": "关联知识库ID列表（查询详情时返回）", "type": "array", "items": {"type": "string"}}}}}, "current": {"title": "当前页", "description": "当前页", "type": "integer", "default": 1}, "size": {"title": "每页数量", "description": "每页数量", "type": "integer", "default": 10}}}}}}}, "tags": ["应用"]}, "parameters": [{"name": "current_page", "in": "path", "required": true, "type": "string"}, {"name": "page_size", "in": "path", "required": true, "type": "string"}]}, "/api/auth/connection": {"post": {"operationId": "连线", "summary": "连线", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "认证配置", "description": "认证配置", "required": ["auth_type", "config_data", "is_active"], "type": "object", "properties": {"auth_type": {"title": "认证类型", "description": "认证类型", "type": "string"}, "config_data": {"title": "配置", "description": "配置", "type": "object"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}}}}], "responses": {"201": {"description": "", "schema": {"title": "认证配置", "description": "认证配置", "required": ["auth_type", "config_data", "is_active"], "type": "object", "properties": {"auth_type": {"title": "认证类型", "description": "认证类型", "type": "string"}, "config_data": {"title": "配置", "description": "配置", "type": "object"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}}}}}, "tags": ["系统设置/登录认证"]}, "parameters": []}, "/api/auth/types": {"get": {"operationId": "认证类型", "summary": "认证类型", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["认证"]}, "parameters": []}, "/api/auth/{auth_type}/detail": {"get": {"operationId": "获取认证配置", "summary": "获取认证配置", "description": "", "parameters": [{"name": "auth_type", "in": "path", "description": "认证类型", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["系统设置/登录认证"]}, "parameters": [{"name": "auth_type", "in": "path", "required": true, "type": "string"}]}, "/api/auth/{auth_type}/info": {"put": {"operationId": "添加或修改认证信息", "summary": "添加或修改认证信息", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "认证配置", "description": "认证配置", "required": ["auth_type", "config_data", "is_active"], "type": "object", "properties": {"auth_type": {"title": "认证类型", "description": "认证类型", "type": "string"}, "config_data": {"title": "配置", "description": "配置", "type": "object"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}}}}, {"name": "auth_type", "in": "path", "description": "认证类型", "required": true, "type": "string"}], "responses": {"200": {"description": "", "schema": {"title": "认证配置", "description": "认证配置", "required": ["auth_type", "config_data", "is_active"], "type": "object", "properties": {"auth_type": {"title": "认证类型", "description": "认证类型", "type": "string"}, "config_data": {"title": "配置", "description": "配置", "type": "object"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}}}}}, "tags": ["系统设置/登录认证"]}, "parameters": [{"name": "auth_type", "in": "path", "required": true, "type": "string"}]}, "/api/cas": {"get": {"operationId": "CAS 登录", "summary": "CAS 登录", "description": "", "parameters": [{"name": "auth_type", "in": "path", "description": "认证类型", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["三方登录"]}, "parameters": []}, "/api/dataset": {"get": {"operationId": "获取知识库列表", "summary": "获取知识库列表", "description": "", "parameters": [{"name": "name", "in": "query", "description": "知识库名称", "required": false, "type": "string"}, {"name": "desc", "in": "query", "description": "知识库描述", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "name", "desc", "user_id", "char_length", "document_count", "update_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "知识库名称", "description": "知识库名称", "type": "string", "default": "知识库名称"}, "desc": {"title": "知识库描述", "description": "知识库描述", "type": "string", "default": "知识库描述"}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string", "default": "user_xxxx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "string", "default": 10}, "document_count": {"title": "文档数量", "description": "文档数量", "type": "string", "default": 1}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}, "tags": ["知识库"]}, "post": {"operationId": "创建知识库", "summary": "创建知识库", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["name", "desc"], "type": "object", "properties": {"name": {"title": "知识库名称", "description": "知识库名称", "type": "string"}, "desc": {"title": "知识库描述", "description": "知识库描述", "type": "string"}, "embedding_mode_id": {"title": "向量模型", "description": "向量模型", "type": "string"}, "documents": {"title": "文档", "description": "文档", "type": "array", "items": {"required": ["name", "paragraphs"], "type": "object", "properties": {"name": {"title": "文档名称", "description": "文档名称", "type": "string"}, "paragraphs": {"title": "段落", "description": "段落", "type": "array", "items": {"required": ["content"], "type": "object", "properties": {"content": {"title": "段落内容", "description": "段落内容", "type": "string", "maxLength": 4096}, "title": {"title": "段落标题", "description": "段落标题", "type": "string", "maxLength": 256}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "problem_list": {"title": "问题列表", "description": "问题列表", "type": "array", "items": {"required": ["content"], "type": "object", "properties": {"id": {"title": "问题 ID 在修改时传递，创建时不传递", "type": "string"}, "content": {"title": "内容", "type": "string"}}}}}}}}}}}}}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "name", "desc", "user_id", "char_length", "document_count", "update_time", "create_time", "document_list"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "知识库名称", "description": "知识库名称", "type": "string", "default": "知识库名称"}, "desc": {"title": "知识库描述", "description": "知识库描述", "type": "string", "default": "知识库描述"}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string", "default": "user_xxxx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "string", "default": 10}, "document_count": {"title": "文档数量", "description": "文档数量", "type": "string", "default": 1}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}, "document_list": {"title": "文档列表", "description": "文档列表", "type": "array", "items": {"required": ["id", "name", "char_length", "user_id", "paragraph_count", "is_activeupdate_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "名称", "description": "名称", "type": "string", "default": "xx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "integer", "default": 10}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string"}, "paragraph_count": {"title": "_('document count')", "description": "_('document count')", "type": "integer", "default": 1}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}}}, "tags": ["知识库"]}, "parameters": []}, "/api/dataset/document/split": {"post": {"operationId": "分段文档", "summary": "分段文档", "description": "", "parameters": [{"name": "file", "in": "formData", "description": "文件列表", "required": true, "type": "array", "items": {"type": "file"}}, {"name": "limit", "in": "formData", "description": "分段长度", "required": false, "type": "integer", "title": "分段长度"}, {"name": "patterns", "in": "formData", "description": "分段正则列表", "required": false, "type": "array", "items": {"type": "string"}, "title": "分段正则列表"}, {"name": "with_filter", "in": "formData", "description": "是否清除特殊字符", "required": false, "type": "boolean", "title": "是否清除特殊字符"}], "responses": {"201": {"description": ""}}, "consumes": ["multipart/form-data"], "tags": ["知识库/文档"]}, "parameters": []}, "/api/dataset/document/split_pattern": {"get": {"operationId": "获取分段id列表", "summary": "获取分段id列表", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["知识库/文档"]}, "parameters": []}, "/api/dataset/document/table_template/export": {"get": {"operationId": "获取表单模版", "summary": "获取表单模版", "description": "", "parameters": [{"name": "type", "in": "query", "description": "导出模版类型 csv|excel", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["知识库/文档"]}, "parameters": []}, "/api/dataset/document/template/export": {"get": {"operationId": "获取问答模版", "summary": "获取问答模版", "description": "", "parameters": [{"name": "type", "in": "query", "description": "导出模版类型 csv|excel", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["知识库/文档"]}, "parameters": []}, "/api/dataset/qa": {"post": {"operationId": "创建QA知识库", "summary": "创建QA知识库", "description": "", "parameters": [{"name": "file", "in": "formData", "description": "上传文件", "required": true, "type": "array", "items": {"type": "file"}}, {"name": "name", "in": "formData", "description": "知识库名称", "required": true, "type": "string", "title": "知识库名称"}, {"name": "desc", "in": "formData", "description": "知识库描述", "required": true, "type": "string", "title": "知识库描述"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "name", "desc", "user_id", "char_length", "document_count", "update_time", "create_time", "document_list"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "知识库名称", "description": "知识库名称", "type": "string", "default": "知识库名称"}, "desc": {"title": "知识库描述", "description": "知识库描述", "type": "string", "default": "知识库描述"}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string", "default": "user_xxxx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "string", "default": 10}, "document_count": {"title": "文档数量", "description": "文档数量", "type": "string", "default": 1}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}, "document_list": {"title": "文档列表", "description": "文档列表", "type": "array", "items": {"required": ["id", "name", "char_length", "user_id", "paragraph_count", "is_activeupdate_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "名称", "description": "名称", "type": "string", "default": "xx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "integer", "default": 10}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string"}, "paragraph_count": {"title": "_('document count')", "description": "_('document count')", "type": "integer", "default": 1}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}}}, "consumes": ["multipart/form-data"], "tags": ["知识库"]}, "parameters": []}, "/api/dataset/web": {"post": {"operationId": "创建web站点知识库", "summary": "创建web站点知识库", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["name", "desc", "url"], "type": "object", "properties": {"name": {"title": "知识库名称", "description": "知识库名称", "type": "string"}, "desc": {"title": "知识库描述", "description": "知识库描述", "type": "string"}, "embedding_mode_id": {"title": "向量模型", "description": "向量模型", "type": "string"}, "source_url": {"title": "web站点url", "description": "web站点url", "type": "string"}, "selector": {"title": "选择器", "description": "选择器", "type": "string"}}}}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "name", "desc", "user_id", "char_length", "document_count", "update_time", "create_time", "document_list"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "知识库名称", "description": "知识库名称", "type": "string", "default": "知识库名称"}, "desc": {"title": "知识库描述", "description": "知识库描述", "type": "string", "default": "知识库描述"}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string", "default": "user_xxxx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "string", "default": 10}, "document_count": {"title": "文档数量", "description": "文档数量", "type": "string", "default": 1}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}, "document_list": {"title": "文档列表", "description": "文档列表", "type": "array", "items": {"required": ["id", "name", "char_length", "user_id", "paragraph_count", "is_activeupdate_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "名称", "description": "名称", "type": "string", "default": "xx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "integer", "default": 10}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string"}, "paragraph_count": {"title": "_('document count')", "description": "_('document count')", "type": "integer", "default": 1}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}}}, "tags": ["知识库"]}, "parameters": []}, "/api/dataset/{current_page}/{page_size}": {"get": {"operationId": "获取知识库分页列表", "summary": "获取知识库分页列表", "description": "", "parameters": [{"name": "current_page", "in": "path", "description": "当前页", "required": true, "type": "integer"}, {"name": "page_size", "in": "path", "description": "每页数量", "required": true, "type": "integer"}, {"name": "name", "in": "query", "description": "知识库名称", "required": false, "type": "string"}, {"name": "desc", "in": "query", "description": "知识库描述", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "object", "properties": {"total": {"title": "总条数", "description": "总条数", "type": "integer", "default": 1}, "records": {"type": "array", "items": {"required": ["id", "name", "desc", "user_id", "char_length", "document_count", "update_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "知识库名称", "description": "知识库名称", "type": "string", "default": "知识库名称"}, "desc": {"title": "知识库描述", "description": "知识库描述", "type": "string", "default": "知识库描述"}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string", "default": "user_xxxx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "string", "default": 10}, "document_count": {"title": "文档数量", "description": "文档数量", "type": "string", "default": 1}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}, "current": {"title": "当前页", "description": "当前页", "type": "integer", "default": 1}, "size": {"title": "每页数量", "description": "每页数量", "type": "integer", "default": 10}}}}}}}, "tags": ["知识库"]}, "parameters": [{"name": "current_page", "in": "path", "required": true, "type": "string"}, {"name": "page_size", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}": {"get": {"operationId": "根据知识库id查询知识库详情", "summary": "根据知识库id查询知识库详情", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "name", "desc", "user_id", "char_length", "document_count", "update_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "知识库名称", "description": "知识库名称", "type": "string", "default": "知识库名称"}, "desc": {"title": "知识库描述", "description": "知识库描述", "type": "string", "default": "知识库描述"}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string", "default": "user_xxxx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "string", "default": 10}, "document_count": {"title": "文档数量", "description": "文档数量", "type": "string", "default": 1}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["知识库"]}, "put": {"operationId": "修改知识库信息", "summary": "修改知识库信息", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["name", "desc"], "type": "object", "properties": {"name": {"title": "知识库名称", "description": "知识库名称", "type": "string"}, "desc": {"title": "知识库描述", "description": "知识库描述", "type": "string"}, "meta": {"title": "知识库元数据", "description": "知识库元数据->web:{source_url:xxx,selector:'xxx'},base:{}", "type": "object"}, "application_id_list": {"title": "应用 id 列表", "description": "应用 id 列表", "type": "array", "items": {"type": "string"}}}}}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "name", "desc", "user_id", "char_length", "document_count", "update_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "知识库名称", "description": "知识库名称", "type": "string", "default": "知识库名称"}, "desc": {"title": "知识库描述", "description": "知识库描述", "type": "string", "default": "知识库描述"}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string", "default": "user_xxxx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "string", "default": 10}, "document_count": {"title": "文档数量", "description": "文档数量", "type": "string", "default": 1}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["知识库"]}, "delete": {"operationId": "删除知识库", "summary": "删除知识库", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/application": {"get": {"operationId": "获取知识库中可用的应用列表", "summary": "获取知识库中可用的应用列表", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "name", "desc", "model_id", "multiple_rounds_dialogue", "user_id", "status", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "", "description": "id", "type": "string"}, "name": {"title": "应用名称", "description": "应用名称", "type": "string"}, "desc": {"title": "_('application description')", "description": "_('application description')", "type": "string"}, "model_id": {"title": "模型 id", "description": "模型 id", "type": "string"}, "multiple_rounds_dialogue": {"title": "是否开启多轮对话", "description": "是否开启多轮对话", "type": "boolean"}, "prologue": {"title": "开场白", "description": "开场白", "type": "string"}, "example": {"title": "示例", "description": "示例", "type": "array", "items": {"type": "string"}}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string"}, "status": {"title": "是否发布", "description": "是否发布", "type": "boolean"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string"}}}}}}}}, "tags": ["知识库"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document": {"get": {"operationId": "文档列表", "summary": "文档列表", "description": "", "parameters": [{"name": "name", "in": "query", "description": "文档名称", "required": false, "type": "string"}, {"name": "hit_handling_method", "in": "query", "description": "命中处理方法", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"title": "文档列表", "description": "文档列表", "type": "array", "items": {"required": ["id", "name", "char_length", "user_id", "paragraph_count", "is_activeupdate_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "名称", "description": "名称", "type": "string", "default": "xx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "integer", "default": 10}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string"}, "paragraph_count": {"title": "_('document count')", "description": "_('document count')", "type": "integer", "default": 1}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}, "tags": ["知识库/文档"]}, "post": {"operationId": "创建文档", "summary": "创建文档", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["name", "paragraphs"], "type": "object", "properties": {"name": {"title": "文档名称", "description": "文档名称", "type": "string"}, "paragraphs": {"title": "段落", "description": "段落", "type": "array", "items": {"required": ["content"], "type": "object", "properties": {"content": {"title": "段落内容", "description": "段落内容", "type": "string", "maxLength": 4096}, "title": {"title": "段落标题", "description": "段落标题", "type": "string", "maxLength": 256}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "problem_list": {"title": "问题列表", "description": "问题列表", "type": "array", "items": {"required": ["content"], "type": "object", "properties": {"id": {"title": "问题 ID 在修改时传递，创建时不传递", "type": "string"}, "content": {"title": "内容", "type": "string"}}}}}}}}}}, {"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "name", "char_length", "user_id", "paragraph_count", "is_activeupdate_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "名称", "description": "名称", "type": "string", "default": "xx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "integer", "default": 10}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string"}, "paragraph_count": {"title": "_('document count')", "description": "_('document count')", "type": "integer", "default": 1}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/_bach": {"post": {"operationId": "批量创建文档", "summary": "批量创建文档", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "array", "items": {"required": ["name", "paragraphs"], "type": "object", "properties": {"name": {"title": "文档名称", "description": "文档名称", "type": "string"}, "paragraphs": {"title": "段落", "description": "段落", "type": "array", "items": {"required": ["content"], "type": "object", "properties": {"content": {"title": "段落内容", "description": "段落内容", "type": "string", "maxLength": 4096}, "title": {"title": "段落标题", "description": "段落标题", "type": "string", "maxLength": 256}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "problem_list": {"title": "问题列表", "description": "问题列表", "type": "array", "items": {"required": ["content"], "type": "object", "properties": {"id": {"title": "问题 ID 在修改时传递，创建时不传递", "type": "string"}, "content": {"title": "内容", "type": "string"}}}}}}}}}}}, {"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "name", "char_length", "user_id", "paragraph_count", "is_activeupdate_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "名称", "description": "名称", "type": "string", "default": "xx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "integer", "default": 10}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string"}, "paragraph_count": {"title": "_('document count')", "description": "_('document count')", "type": "integer", "default": 1}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}, "tags": ["知识库/文档"]}, "put": {"operationId": "批量同步文档", "summary": "批量同步文档", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "object", "properties": {"id_list": {"title": "id 列表", "description": "id 列表", "type": "array", "items": {"type": "string"}}}}}, {"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档"]}, "delete": {"operationId": "批量删除文档", "summary": "批量删除文档", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "object", "properties": {"id_list": {"title": "id 列表", "description": "id 列表", "type": "array", "items": {"type": "string"}}}}}, {"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/batch_generate_related": {"put": {"operationId": "api_dataset_document_batch_generate_related_update", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["dataset"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/batch_hit_handling": {"put": {"operationId": "修改文档命中处理方式批量", "summary": "修改文档命中处理方式批量", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "object", "properties": {"id_list": {"title": "id 列表", "description": "id 列表", "type": "array", "items": {"type": "string"}}, "hit_handling_method": {"title": "命中处理方法", "description": "directly_return|optimization", "type": "string"}, "directly_return_similarity": {"title": "直接返回相似度", "type": "number"}}}}, {"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/batch_refresh": {"put": {"operationId": "批量刷新文档向量库", "summary": "批量刷新文档向量库", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "object", "properties": {"id_list": {"title": "id 列表", "description": "id 列表", "type": "array", "items": {"type": "string"}}, "hit_handling_method": {"title": "命中处理方法", "description": "directly_return|optimization", "type": "string"}, "directly_return_similarity": {"title": "直接返回相似度", "type": "number"}}}}, {"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/cancel_task/_batch": {"put": {"operationId": "批量取消任务", "summary": "批量取消任务", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "object", "properties": {"id_list": {"title": "id 列表", "description": "id 列表", "type": "array", "items": {"type": "string"}}, "type": {"title": "任务类型", "description": "1|2|3 1:向量化|2:生成问题|3:同步文档", "type": "integer", "default": 1}}}}, {"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/migrate/{target_dataset_id}": {"put": {"operationId": "批量迁移文档", "summary": "批量迁移文档", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "文档 id 列表", "description": "文档 id 列表", "type": "array", "items": {"type": "string"}}}, {"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "target_dataset_id", "in": "path", "description": "目标文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "name", "char_length", "user_id", "paragraph_count", "is_activeupdate_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "名称", "description": "名称", "type": "string", "default": "xx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "integer", "default": 10}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string"}, "paragraph_count": {"title": "_('document count')", "description": "_('document count')", "type": "integer", "default": 1}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "target_dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/qa": {"post": {"operationId": "导入问答并创建文档", "summary": "导入问答并创建文档", "description": "", "parameters": [{"name": "file", "in": "formData", "description": "文件", "required": true, "type": "array", "items": {"type": "file"}}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}}}}}, "consumes": ["multipart/form-data"], "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/table": {"post": {"operationId": "导入表格并创建文档", "summary": "导入表格并创建文档", "description": "", "parameters": [{"name": "file", "in": "formData", "description": "文件", "required": true, "type": "array", "items": {"type": "file"}}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}}}}}, "consumes": ["multipart/form-data"], "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/web": {"post": {"operationId": "创建web站点文档", "summary": "创建web站点文档", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["source_url_list"], "type": "object", "properties": {"source_url_list": {"title": "文档地址列表", "description": "文档地址列表", "type": "array", "items": {"type": "string"}}, "selector": {"title": "选择器", "description": "选择器", "type": "string"}}}}, {"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "name", "char_length", "user_id", "paragraph_count", "is_activeupdate_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "名称", "description": "名称", "type": "string", "default": "xx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "integer", "default": 10}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string"}, "paragraph_count": {"title": "_('document count')", "description": "_('document count')", "type": "integer", "default": 1}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{current_page}/{page_size}": {"get": {"operationId": "获取知识库分页列表", "summary": "获取知识库分页列表", "description": "", "parameters": [{"name": "name", "in": "query", "description": "文档名称", "required": false, "type": "string"}, {"name": "hit_handling_method", "in": "query", "description": "命中处理方法", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "object", "properties": {"total": {"title": "总条数", "description": "总条数", "type": "integer", "default": 1}, "records": {"type": "array", "items": {"title": "文档列表", "description": "文档列表", "type": "array", "items": {"required": ["id", "name", "char_length", "user_id", "paragraph_count", "is_activeupdate_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "名称", "description": "名称", "type": "string", "default": "xx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "integer", "default": 10}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string"}, "paragraph_count": {"title": "_('document count')", "description": "_('document count')", "type": "integer", "default": 1}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}, "current": {"title": "当前页", "description": "当前页", "type": "integer", "default": 1}, "size": {"title": "每页数量", "description": "每页数量", "type": "integer", "default": 10}}}}}}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "current_page", "in": "path", "required": true, "type": "string"}, {"name": "page_size", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}": {"get": {"operationId": "获取文档详情", "summary": "获取文档详情", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "name", "char_length", "user_id", "paragraph_count", "is_activeupdate_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "名称", "description": "名称", "type": "string", "default": "xx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "integer", "default": 10}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string"}, "paragraph_count": {"title": "_('document count')", "description": "_('document count')", "type": "integer", "default": 1}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["知识库/文档"]}, "put": {"operationId": "修改文档", "summary": "修改文档", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "object", "properties": {"name": {"title": "文档名称", "description": "文档名称", "type": "string"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "hit_handling_method": {"title": "命中处理方法", "description": "ai优化: optimization, 直接返回: directly_return", "type": "string"}, "directly_return_similarity": {"title": "直接返回相似度", "type": "number", "default": 0.9}, "meta": {"title": "知识库元数据", "description": "文档元数据->web:{source_url:xxx,selector:'xxx'},base:{}", "type": "object"}}}}, {"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "name", "char_length", "user_id", "paragraph_count", "is_activeupdate_time", "create_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "name": {"title": "名称", "description": "名称", "type": "string", "default": "xx"}, "char_length": {"title": "字符长度", "description": "字符长度", "type": "integer", "default": 10}, "user_id": {"title": "用户 id", "description": "用户 id", "type": "string"}, "paragraph_count": {"title": "_('document count')", "description": "_('document count')", "type": "integer", "default": 1}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["知识库/文档"]}, "delete": {"operationId": "删除文档", "summary": "删除文档", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/cancel_task": {"put": {"operationId": "取消任务", "summary": "取消任务", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "object", "properties": {"type": {"title": "任务类型", "description": "1|2|3 1:向量化|2:生成问题|3:同步文档", "type": "integer"}}}}, {"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/export": {"get": {"operationId": "导出文档", "summary": "导出文档", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/export_zip": {"get": {"operationId": "导出Zip文档", "summary": "导出Zip文档", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/paragraph": {"get": {"operationId": "段落列表", "summary": "段落列表", "description": "", "parameters": [{"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "title", "in": "query", "description": "标题", "required": false, "type": "string"}, {"name": "content", "in": "query", "description": "内容", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "content", "hit_num", "star_num", "trample_num", "is_active", "dataset_id", "document_id", "title", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "content": {"title": "内容", "description": "内容", "type": "string", "default": "内容"}, "title": {"title": "标题", "description": "标题", "type": "string", "default": "xxx"}, "hit_num": {"title": "命中数量", "description": "命中数量", "type": "integer", "default": 1}, "star_num": {"title": "点赞数量", "description": "点赞数量", "type": "integer", "default": 1}, "trample_num": {"title": "点踩数量", "description": "点踩数量", "type": "integer", "default": 1}, "dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string", "default": "xxx"}, "document_id": {"title": "文档 id", "description": "文档 id", "type": "string", "default": "xxx"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}, "tags": ["知识库/文档/段落"]}, "post": {"operationId": "创建段落", "summary": "创建段落", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["content"], "type": "object", "properties": {"content": {"title": "段落内容", "description": "段落内容", "type": "string", "maxLength": 4096}, "title": {"title": "段落标题", "description": "段落标题", "type": "string", "maxLength": 256}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "problem_list": {"title": "问题列表", "description": "问题列表", "type": "array", "items": {"required": ["content"], "type": "object", "properties": {"id": {"title": "问题 ID 在修改时传递，创建时不传递", "type": "string"}, "content": {"title": "内容", "type": "string"}}}}}}}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "content", "hit_num", "star_num", "trample_num", "is_active", "dataset_id", "document_id", "title", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "content": {"title": "内容", "description": "内容", "type": "string", "default": "内容"}, "title": {"title": "标题", "description": "标题", "type": "string", "default": "xxx"}, "hit_num": {"title": "命中数量", "description": "命中数量", "type": "integer", "default": 1}, "star_num": {"title": "点赞数量", "description": "点赞数量", "type": "integer", "default": 1}, "trample_num": {"title": "点踩数量", "description": "点踩数量", "type": "integer", "default": 1}, "dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string", "default": "xxx"}, "document_id": {"title": "文档 id", "description": "文档 id", "type": "string", "default": "xxx"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["知识库/文档/段落"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/paragraph/_batch": {"delete": {"operationId": "批量删除段落", "summary": "批量删除段落", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "object", "properties": {"id_list": {"title": "id 列表", "description": "id 列表", "type": "array", "items": {"type": "string"}}}}}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档/段落"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/paragraph/batch_generate_related": {"put": {"operationId": "api_dataset_document_paragraph_batch_generate_related_update", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["dataset"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/paragraph/migrate/dataset/{target_dataset_id}/document/{target_document_id}": {"put": {"operationId": "批量迁移段落", "summary": "批量迁移段落", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "段落 id 列表", "description": "段落 id 列表", "type": "array", "items": {"type": "string"}}}, {"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "target_dataset_id", "in": "path", "description": "目标知识库 id", "required": true, "type": "string"}, {"name": "target_document_id", "in": "path", "description": "目标文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档/段落"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}, {"name": "target_dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "target_document_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/paragraph/{current_page}/{page_size}": {"get": {"operationId": "获取分页段落列表", "summary": "获取分页段落列表", "description": "", "parameters": [{"name": "current_page", "in": "path", "description": "当前页", "required": true, "type": "integer"}, {"name": "page_size", "in": "path", "description": "每页数量", "required": true, "type": "integer"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "title", "in": "query", "description": "标题", "required": false, "type": "string"}, {"name": "content", "in": "query", "description": "内容", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "object", "properties": {"total": {"title": "总条数", "description": "总条数", "type": "integer", "default": 1}, "records": {"type": "array", "items": {"required": ["id", "content", "hit_num", "star_num", "trample_num", "is_active", "dataset_id", "document_id", "title", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "content": {"title": "内容", "description": "内容", "type": "string", "default": "内容"}, "title": {"title": "标题", "description": "标题", "type": "string", "default": "xxx"}, "hit_num": {"title": "命中数量", "description": "命中数量", "type": "integer", "default": 1}, "star_num": {"title": "点赞数量", "description": "点赞数量", "type": "integer", "default": 1}, "trample_num": {"title": "点踩数量", "description": "点踩数量", "type": "integer", "default": 1}, "dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string", "default": "xxx"}, "document_id": {"title": "文档 id", "description": "文档 id", "type": "string", "default": "xxx"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}, "current": {"title": "当前页", "description": "当前页", "type": "integer", "default": 1}, "size": {"title": "每页数量", "description": "每页数量", "type": "integer", "default": 10}}}}}}}, "tags": ["知识库/文档/段落"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}, {"name": "current_page", "in": "path", "required": true, "type": "string"}, {"name": "page_size", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/paragraph/{paragraph_id}": {"get": {"operationId": "获取段落详情", "summary": "获取段落详情", "description": "", "parameters": [{"name": "paragraph_id", "in": "path", "description": "段落 id", "type": "string", "required": true}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["content"], "type": "object", "properties": {"content": {"title": "段落内容", "description": "段落内容", "type": "string", "maxLength": 4096}, "title": {"title": "段落标题", "description": "段落标题", "type": "string", "maxLength": 256}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "problem_list": {"title": "问题列表", "description": "问题列表", "type": "array", "items": {"required": ["content"], "type": "object", "properties": {"id": {"title": "问题 ID 在修改时传递，创建时不传递", "type": "string"}, "content": {"title": "内容", "type": "string"}}}}}}}}}}, "tags": ["知识库/文档/段落"]}, "put": {"operationId": "修改段落数据", "summary": "修改段落数据", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["content"], "type": "object", "properties": {"content": {"title": "段落内容", "description": "段落内容", "type": "string", "maxLength": 4096}, "title": {"title": "段落标题", "description": "段落标题", "type": "string", "maxLength": 256}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "problem_list": {"title": "问题列表", "description": "问题列表", "type": "array", "items": {"required": ["content"], "type": "object", "properties": {"id": {"title": "问题 ID 在修改时传递，创建时不传递", "type": "string"}, "content": {"title": "内容", "type": "string"}}}}}}}, {"name": "paragraph_id", "in": "path", "description": "段落 id", "type": "string", "required": true}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["content"], "type": "object", "properties": {"content": {"title": "段落内容", "description": "段落内容", "type": "string", "maxLength": 4096}, "title": {"title": "段落标题", "description": "段落标题", "type": "string", "maxLength": 256}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "problem_list": {"title": "问题列表", "description": "问题列表", "type": "array", "items": {"required": ["content"], "type": "object", "properties": {"id": {"title": "问题 ID 在修改时传递，创建时不传递", "type": "string"}, "content": {"title": "内容", "type": "string"}}}}}}}}}}, "tags": ["知识库/文档/段落"]}, "delete": {"operationId": "删除段落", "summary": "删除段落", "description": "", "parameters": [{"name": "paragraph_id", "in": "path", "description": "段落 id", "type": "string", "required": true}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档/段落"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}, {"name": "paragraph_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/paragraph/{paragraph_id}/problem": {"get": {"operationId": "获取段落问题列表", "summary": "获取段落问题列表", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "paragraph_id", "in": "path", "description": "段落 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "content", "hit_num", "dataset_id", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "content": {"title": "问题内容", "description": "问题内容", "type": "string", "default": "问题内容"}, "hit_num": {"title": "命中数量", "description": "命中数量", "type": "integer", "default": 1}, "dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string", "default": "xxx"}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}, "tags": ["知识库/文档/段落"]}, "post": {"operationId": "添加关联问题", "summary": "添加关联问题", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["content"], "type": "object", "properties": {"content": {"title": "内容", "type": "string"}}}}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "paragraph_id", "in": "path", "description": "段落 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "content", "hit_num", "dataset_id", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "content": {"title": "问题内容", "description": "问题内容", "type": "string", "default": "问题内容"}, "hit_num": {"title": "命中数量", "description": "命中数量", "type": "integer", "default": 1}, "dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string", "default": "xxx"}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["知识库/文档/段落"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}, {"name": "paragraph_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/paragraph/{paragraph_id}/problem/{problem_id}/association": {"put": {"operationId": "关联问题", "summary": "关联问题", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "paragraph_id", "in": "path", "description": "段落 id", "required": true, "type": "string"}, {"name": "problem_id", "in": "path", "description": "问题 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档/段落"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}, {"name": "paragraph_id", "in": "path", "required": true, "type": "string"}, {"name": "problem_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/paragraph/{paragraph_id}/problem/{problem_id}/un_association": {"put": {"operationId": "取消关联问题", "summary": "取消关联问题", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "paragraph_id", "in": "path", "description": "段落 id", "required": true, "type": "string"}, {"name": "problem_id", "in": "path", "description": "问题 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档/段落"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}, {"name": "paragraph_id", "in": "path", "required": true, "type": "string"}, {"name": "problem_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/refresh": {"put": {"operationId": "刷新文档向量库", "summary": "刷新文档向量库", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "object", "properties": {"state_list": {"title": "状态列表", "description": "状态列表", "type": "array", "items": {"type": "string"}}}}}, {"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/document/{document_id}/sync": {"put": {"operationId": "同步web站点类型", "summary": "同步web站点类型", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "description": "文档 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "document_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/export": {"get": {"operationId": "导出知识库", "summary": "导出知识库", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["知识库"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/export_zip": {"get": {"operationId": "导出包含图片的知识库", "summary": "导出包含图片的知识库", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["知识库"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/hit_test": {"get": {"operationId": "命中测试列表", "summary": "命中测试列表", "description": "", "parameters": [{"name": "query_text", "in": "query", "description": "查询文本", "required": true, "type": "string"}, {"name": "top_number", "in": "query", "description": "topN", "required": true, "type": "number", "default": 10}, {"name": "similarity", "in": "query", "description": "相似度", "required": true, "type": "number", "default": 0.6}, {"name": "search_mode", "in": "query", "description": "检索模式 embedding|keywords|blend", "required": true, "type": "string", "default": "embedding"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "content", "hit_num", "star_num", "trample_num", "is_active", "dataset_id", "document_id", "title", "similarity", "comprehensive_score", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "content": {"title": "段落内容", "description": "段落内容", "type": "string", "default": "段落内容"}, "title": {"title": "标题", "description": "标题", "type": "string", "default": "xxx 描述"}, "hit_num": {"title": "命中数量", "description": "命中数量", "type": "integer", "default": 1}, "star_num": {"title": "点赞数量", "description": "点赞数量", "type": "integer", "default": 1}, "trample_num": {"title": "点踩数", "description": "点踩数", "type": "integer", "default": 1}, "dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string", "default": "xxx"}, "document_id": {"title": "文档 id", "description": "文档 id", "type": "string", "default": "xxx"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean", "default": true}, "similarity": {"title": "相关性得分", "description": "相关性得分", "type": "number", "default": true}, "comprehensive_score": {"title": "综合得分,用于排序", "description": "综合得分,用于排序", "type": "number", "default": true}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}, "tags": ["知识库"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/model": {"get": {"operationId": "api_dataset_model_list", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["dataset"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/problem": {"get": {"operationId": "问题列表", "summary": "问题列表", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "content", "in": "query", "description": "内容", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["id", "content", "hit_num", "dataset_id", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "content": {"title": "内容", "description": "内容", "type": "string", "default": "内容"}, "hit_num": {"title": "命中数量", "description": "命中数量", "type": "integer", "default": 1}, "dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string", "default": "xxx"}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}, "tags": ["知识库/文档/段落/问题"]}, "post": {"operationId": "创建问题", "summary": "创建问题", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "array", "items": {"title": "内容", "description": "内容", "type": "string"}}}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}}}}}, "tags": ["知识库/文档/段落/问题"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/problem/_batch": {"post": {"operationId": "批量关联段落", "summary": "批量关联段落", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["problem_id_list"], "type": "object", "properties": {"problem_id_list": {"title": "问题 id 列表", "description": "问题 id 列表", "type": "array", "items": {"type": "string"}}, "paragraph_list": {"title": "关联段落信息列表", "description": "关联段落信息列表", "type": "array", "items": {"required": ["paragraph_id", "document_id"], "type": "object", "properties": {"paragraph_id": {"title": "段落 id", "type": "string"}, "document_id": {"title": "文档 id", "type": "string"}}}}}}}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档/段落/问题"]}, "delete": {"operationId": "批量删除问题", "summary": "批量删除问题", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "问题 id 列表", "description": "问题 id 列表", "type": "array", "items": {"type": "string"}}}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档/段落/问题"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/problem/{current_page}/{page_size}": {"get": {"operationId": "获取分页问题列表", "summary": "获取分页问题列表", "description": "", "parameters": [{"name": "current_page", "in": "path", "description": "当前页", "required": true, "type": "integer"}, {"name": "page_size", "in": "path", "description": "每页数量", "required": true, "type": "integer"}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "content", "in": "query", "description": "内容", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "object", "properties": {"total": {"title": "总条数", "description": "总条数", "type": "integer", "default": 1}, "records": {"type": "array", "items": {"required": ["id", "content", "hit_num", "dataset_id", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "content": {"title": "内容", "description": "内容", "type": "string", "default": "内容"}, "hit_num": {"title": "命中数量", "description": "命中数量", "type": "integer", "default": 1}, "dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string", "default": "xxx"}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}, "current": {"title": "当前页", "description": "当前页", "type": "integer", "default": 1}, "size": {"title": "每页数量", "description": "每页数量", "type": "integer", "default": 10}}}}}}}, "tags": ["知识库/文档/段落/问题"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "current_page", "in": "path", "required": true, "type": "string"}, {"name": "page_size", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/problem/{problem_id}": {"put": {"operationId": "修改问题", "summary": "修改问题", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["content"], "type": "object", "properties": {"content": {"title": "内容", "description": "内容", "type": "string"}}}}, {"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "problem_id", "in": "path", "description": "问题 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "content", "hit_num", "dataset_id", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "id", "description": "id", "type": "string", "default": "xx"}, "content": {"title": "内容", "description": "内容", "type": "string", "default": "内容"}, "hit_num": {"title": "命中数量", "description": "命中数量", "type": "integer", "default": 1}, "dataset_id": {"title": "知识库 id", "description": "知识库 id", "type": "string", "default": "xxx"}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}, "tags": ["知识库/文档/段落/问题"]}, "delete": {"operationId": "删除问题", "summary": "删除问题", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "problem_id", "in": "path", "description": "问题 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库/文档/段落/问题"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "problem_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/problem/{problem_id}/paragraph": {"get": {"operationId": "获取关联段落列表", "summary": "获取关联段落列表", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "problem_id", "in": "path", "description": "问题 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["content"], "type": "object", "properties": {"content": {"title": "内容", "description": "内容", "type": "string", "maxLength": 4096}, "title": {"title": "段落标题", "description": "段落标题", "type": "string", "maxLength": 256}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "hit_num": {"title": "命中数量", "description": "命中数量", "type": "number"}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string", "default": "1970-01-01 00:00:00"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string", "default": "1970-01-01 00:00:00"}}}}}}}}, "tags": ["知识库/文档/段落/问题"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}, {"name": "problem_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/re_embedding": {"put": {"operationId": "重新向量化", "summary": "重新向量化", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dataset/{dataset_id}/sync_web": {"put": {"operationId": "同步Web站点知识库", "summary": "同步Web站点知识库", "description": "", "parameters": [{"name": "dataset_id", "in": "path", "description": "知识库 id", "required": true, "type": "string"}, {"name": "sync_type", "in": "query", "description": "同步类型->replace:替换同步,complete:完整同步", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["知识库"]}, "parameters": [{"name": "dataset_id", "in": "path", "required": true, "type": "string"}]}, "/api/dingtalk": {"get": {"operationId": "钉钉回调", "summary": "钉钉回调", "description": "", "parameters": [{"name": "auth_type", "in": "path", "description": "认证类型", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["三方登录"]}, "parameters": []}, "/api/display/info": {"get": {"operationId": "查看外观设置", "summary": "查看外观设置", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["系统设置/外观设置"]}, "parameters": []}, "/api/display/update": {"post": {"operationId": "更新外观设置", "summary": "更新外观设置", "description": "", "parameters": [{"name": "theme", "in": "formData", "description": "主题", "required": true, "type": "string"}, {"name": "icon", "in": "formData", "description": "网站图标", "required": false, "type": "file"}, {"name": "loginLogo", "in": "formData", "description": "登录logo", "required": false, "type": "file"}, {"name": "loginImage", "in": "formData", "description": "登录背景图", "required": false, "type": "file"}, {"name": "title", "in": "formData", "description": "网站标题", "required": true, "type": "string"}, {"name": "slogan", "in": "formData", "description": "网站标语", "required": true, "type": "string"}, {"name": "showUserManual", "in": "formData", "description": "是否显示用户手册", "required": true, "type": "boolean"}, {"name": "userManualUrl", "in": "formData", "description": "用户手册地址", "required": true, "type": "string"}, {"name": "showForum", "in": "formData", "description": "是否显示论坛", "required": true, "type": "boolean"}, {"name": "forumUrl", "in": "formData", "description": "论坛地址", "required": true, "type": "string"}, {"name": "showProject", "in": "formData", "description": "是否显示项目", "required": true, "type": "boolean"}, {"name": "projectUrl", "in": "formData", "description": "项目地址", "required": true, "type": "string"}], "responses": {"201": {"description": ""}}, "consumes": ["multipart/form-data", "application/x-www-form-urlencoded"], "tags": ["系统设置/外观设置"]}, "parameters": []}, "/api/email_setting": {"get": {"operationId": "获取邮箱设置", "summary": "获取邮箱设置", "description": "", "parameters": [], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"title": "邮箱相关参数", "description": "邮箱相关参数", "required": ["email_host", "email_port", "email_host_user", "email_host_password", "email_use_tls", "email_use_ssl", "from_email"], "type": "object", "properties": {"email_host": {"title": "SMTP 主机", "description": "SMTP 主机", "type": "string"}, "email_port": {"title": "SMTP 端口", "description": "SMTP 端口", "type": "number"}, "email_host_user": {"title": "发件人邮箱", "description": "发件人邮箱", "type": "string"}, "email_host_password": {"title": "密码", "description": "密码", "type": "string"}, "email_use_tls": {"title": "是否启用 TLS", "description": "是否启用 TLS", "type": "boolean"}, "email_use_ssl": {"title": "是否启用 SSL", "description": "是否启用 SSL", "type": "boolean"}, "from_email": {"title": "发件人邮箱", "description": "发件人邮箱", "type": "string"}}}}}}}, "tags": ["邮箱设置"]}, "post": {"operationId": "测试邮箱设置", "summary": "测试邮箱设置", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "邮箱相关参数", "description": "邮箱相关参数", "required": ["email_host", "email_port", "email_host_user", "email_host_password", "email_use_tls", "email_use_ssl", "from_email"], "type": "object", "properties": {"email_host": {"title": "SMTP 主机", "description": "SMTP 主机", "type": "string"}, "email_port": {"title": "SMTP 端口", "description": "SMTP 端口", "type": "number"}, "email_host_user": {"title": "发件人邮箱", "description": "发件人邮箱", "type": "string"}, "email_host_password": {"title": "密码", "description": "密码", "type": "string"}, "email_use_tls": {"title": "是否启用 TLS", "description": "是否启用 TLS", "type": "boolean"}, "email_use_ssl": {"title": "是否启用 SSL", "description": "是否启用 SSL", "type": "boolean"}, "from_email": {"title": "发件人邮箱", "description": "发件人邮箱", "type": "string"}}}}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["邮箱设置"]}, "put": {"operationId": "创建或更新邮箱设置", "summary": "创建或更新邮箱设置", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "邮箱相关参数", "description": "邮箱相关参数", "required": ["email_host", "email_port", "email_host_user", "email_host_password", "email_use_tls", "email_use_ssl", "from_email"], "type": "object", "properties": {"email_host": {"title": "SMTP 主机", "description": "SMTP 主机", "type": "string"}, "email_port": {"title": "SMTP 端口", "description": "SMTP 端口", "type": "number"}, "email_host_user": {"title": "发件人邮箱", "description": "发件人邮箱", "type": "string"}, "email_host_password": {"title": "密码", "description": "密码", "type": "string"}, "email_use_tls": {"title": "是否启用 TLS", "description": "是否启用 TLS", "type": "boolean"}, "email_use_ssl": {"title": "是否启用 SSL", "description": "是否启用 SSL", "type": "boolean"}, "from_email": {"title": "发件人邮箱", "description": "发件人邮箱", "type": "string"}}}}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"title": "邮箱相关参数", "description": "邮箱相关参数", "required": ["email_host", "email_port", "email_host_user", "email_host_password", "email_use_tls", "email_use_ssl", "from_email"], "type": "object", "properties": {"email_host": {"title": "SMTP 主机", "description": "SMTP 主机", "type": "string"}, "email_port": {"title": "SMTP 端口", "description": "SMTP 端口", "type": "number"}, "email_host_user": {"title": "发件人邮箱", "description": "发件人邮箱", "type": "string"}, "email_host_password": {"title": "密码", "description": "密码", "type": "string"}, "email_use_tls": {"title": "是否启用 TLS", "description": "是否启用 TLS", "type": "boolean"}, "email_use_ssl": {"title": "是否启用 SSL", "description": "是否启用 SSL", "type": "boolean"}, "from_email": {"title": "发件人邮箱", "description": "发件人邮箱", "type": "string"}}}}}}}, "tags": ["邮箱设置"]}, "parameters": []}, "/api/feishu": {"get": {"operationId": "飞书回调", "summary": "飞书回调", "description": "", "parameters": [{"name": "auth_type", "in": "path", "description": "认证类型", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["三方登录"]}, "parameters": []}, "/api/file": {"post": {"operationId": "上传文件", "summary": "上传文件", "description": "", "parameters": [{"name": "file", "in": "formData", "description": "上传文件", "required": true, "type": "file"}], "responses": {"201": {"description": ""}}, "consumes": ["multipart/form-data"], "tags": ["文件"]}, "parameters": []}, "/api/file/{file_id}": {"get": {"operationId": "获取文件", "summary": "获取文件", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["文件"]}, "parameters": [{"name": "file_id", "in": "path", "required": true, "type": "string"}]}, "/api/function_lib": {"get": {"operationId": "获取函数列表", "summary": "获取函数列表", "description": "", "parameters": [{"name": "name", "in": "query", "description": "函数名", "required": false, "type": "string"}, {"name": "desc", "in": "query", "description": "函数描述", "required": false, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["函数"]}, "post": {"operationId": "创建函数", "summary": "创建函数", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["name", "code", "input_field_list", "permission_type"], "type": "object", "properties": {"name": {"title": "函数名", "description": "函数名", "type": "string"}, "desc": {"title": "函数描述", "description": "函数描述", "type": "string"}, "code": {"title": "函数内容", "description": "函数内容", "type": "string"}, "permission_type": {"title": "权限", "description": "权限", "type": "string"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "input_field_list": {"description": "输入变量列表", "type": "array", "items": {"required": ["name", "is_required", "source"], "type": "object", "properties": {"name": {"title": "变量名", "description": "变量名", "type": "string"}, "is_required": {"title": "必填", "description": "必填", "type": "boolean"}, "type": {"title": "类型", "description": "字段类型 string|int|dict|array|float", "type": "string"}, "source": {"title": "来源", "description": "来源只支持custom|reference", "type": "string"}}}}}}}], "responses": {"201": {"description": "", "schema": {"required": ["name", "code", "input_field_list", "permission_type"], "type": "object", "properties": {"name": {"title": "函数名", "description": "函数名", "type": "string"}, "desc": {"title": "函数描述", "description": "函数描述", "type": "string"}, "code": {"title": "函数内容", "description": "函数内容", "type": "string"}, "permission_type": {"title": "权限", "description": "权限", "type": "string"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "input_field_list": {"description": "输入变量列表", "type": "array", "items": {"required": ["name", "is_required", "source"], "type": "object", "properties": {"name": {"title": "变量名", "description": "变量名", "type": "string"}, "is_required": {"title": "必填", "description": "必填", "type": "boolean"}, "type": {"title": "类型", "description": "字段类型 string|int|dict|array|float", "type": "string"}, "source": {"title": "来源", "description": "来源只支持custom|reference", "type": "string"}}}}}}}}, "tags": ["函数"]}, "parameters": []}, "/api/function_lib/debug": {"post": {"operationId": "调试函数", "summary": "调试函数", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": [], "type": "object", "properties": {"debug_field_list": {"description": "输入变量列表", "type": "array", "items": {"required": [], "type": "object", "properties": {"name": {"title": "变量名", "description": "变量名", "type": "string"}, "value": {"title": "变量值", "description": "变量值", "type": "string"}}}}, "code": {"title": "函数内容", "description": "函数内容", "type": "string"}, "input_field_list": {"description": "输入变量列表", "type": "array", "items": {"required": ["name", "is_required", "source"], "type": "object", "properties": {"name": {"title": "变量名", "description": "变量名", "type": "string"}, "is_required": {"title": "必填", "description": "必填", "type": "boolean"}, "type": {"title": "类型", "description": "字段类型 string|int|dict|array|float", "type": "string"}, "source": {"title": "来源", "description": "来源只支持custom|reference", "type": "string"}}}}}}}], "responses": {"201": {"description": "", "schema": {"required": [], "type": "object", "properties": {"debug_field_list": {"description": "输入变量列表", "type": "array", "items": {"required": [], "type": "object", "properties": {"name": {"title": "变量名", "description": "变量名", "type": "string"}, "value": {"title": "变量值", "description": "变量值", "type": "string"}}}}, "code": {"title": "函数内容", "description": "函数内容", "type": "string"}, "input_field_list": {"description": "输入变量列表", "type": "array", "items": {"required": ["name", "is_required", "source"], "type": "object", "properties": {"name": {"title": "变量名", "description": "变量名", "type": "string"}, "is_required": {"title": "必填", "description": "必填", "type": "boolean"}, "type": {"title": "类型", "description": "字段类型 string|int|dict|array|float", "type": "string"}, "source": {"title": "来源", "description": "来源只支持custom|reference", "type": "string"}}}}}}}}, "tags": ["函数"]}, "parameters": []}, "/api/function_lib/import": {"post": {"operationId": "Import function", "summary": "Import function", "description": "", "parameters": [{"name": "file", "in": "formData", "description": "上传图片文件", "required": true, "type": "file"}], "responses": {"201": {"description": ""}}, "consumes": ["multipart/form-data"], "tags": ["函数"]}, "parameters": []}, "/api/function_lib/pylint": {"post": {"operationId": "检查代码", "summary": "检查代码", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["code"], "type": "object", "properties": {"code": {"title": "函数内容", "description": "函数内容", "type": "string"}}}}], "responses": {"201": {"description": "", "schema": {"required": ["code"], "type": "object", "properties": {"code": {"title": "函数内容", "description": "函数内容", "type": "string"}}}}}, "tags": ["函数"]}, "parameters": []}, "/api/function_lib/{current_page}/{page_size}": {"get": {"operationId": "获取分页函数列表", "summary": "获取分页函数列表", "description": "", "parameters": [{"name": "current_page", "in": "path", "description": "当前页", "required": true, "type": "integer"}, {"name": "page_size", "in": "path", "description": "每页数量", "required": true, "type": "integer"}, {"name": "name", "in": "query", "description": "函数名", "required": false, "type": "string"}, {"name": "desc", "in": "query", "description": "函数描述", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "object", "properties": {"total": {"title": "总条数", "description": "总条数", "type": "integer", "default": 1}, "records": {"type": "array", "items": {"required": ["id", "name", "desc", "code", "input_field_list", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "", "description": "ID", "type": "string"}, "name": {"title": "函数名", "description": "函数名", "type": "string"}, "desc": {"title": "函数描述", "description": "函数描述", "type": "string"}, "code": {"title": "函数内容", "description": "函数内容", "type": "string"}, "input_field_list": {"title": "输入字段", "description": "输入字段", "type": "string"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string"}}}}, "current": {"title": "当前页", "description": "当前页", "type": "integer", "default": 1}, "size": {"title": "每页数量", "description": "每页数量", "type": "integer", "default": 10}}}}}}}, "tags": ["函数"]}, "parameters": [{"name": "current_page", "in": "path", "required": true, "type": "string"}, {"name": "page_size", "in": "path", "required": true, "type": "string"}]}, "/api/function_lib/{function_lib_id}": {"get": {"operationId": "获取函数详情", "summary": "获取函数详情", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["函数"]}, "put": {"operationId": "更新函数", "summary": "更新函数", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": [], "type": "object", "properties": {"name": {"title": "函数名", "description": "函数名", "type": "string"}, "desc": {"title": "函数描述", "description": "函数描述", "type": "string"}, "code": {"title": "函数内容", "description": "函数内容", "type": "string"}, "permission_type": {"title": "权限", "description": "权限", "type": "string"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "input_field_list": {"description": "输入变量列表", "type": "array", "items": {"required": [], "type": "object", "properties": {"name": {"title": "变量名", "description": "变量名", "type": "string"}, "is_required": {"title": "必填", "description": "必填", "type": "boolean"}, "type": {"title": "类型", "description": "字段类型 string|int|dict|array|float", "type": "string"}, "source": {"title": "来源", "description": "来源只支持custom|reference", "type": "string"}}}}}}}], "responses": {"200": {"description": "", "schema": {"required": [], "type": "object", "properties": {"name": {"title": "函数名", "description": "函数名", "type": "string"}, "desc": {"title": "函数描述", "description": "函数描述", "type": "string"}, "code": {"title": "函数内容", "description": "函数内容", "type": "string"}, "permission_type": {"title": "权限", "description": "权限", "type": "string"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "input_field_list": {"description": "输入变量列表", "type": "array", "items": {"required": [], "type": "object", "properties": {"name": {"title": "变量名", "description": "变量名", "type": "string"}, "is_required": {"title": "必填", "description": "必填", "type": "boolean"}, "type": {"title": "类型", "description": "字段类型 string|int|dict|array|float", "type": "string"}, "source": {"title": "来源", "description": "来源只支持custom|reference", "type": "string"}}}}}}}}, "tags": ["函数"]}, "delete": {"operationId": "删除函数", "summary": "删除函数", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["函数"]}, "parameters": [{"name": "function_lib_id", "in": "path", "required": true, "type": "string"}]}, "/api/function_lib/{id}/export": {"get": {"operationId": "Export function", "summary": "Export function", "description": "", "parameters": [{"name": "id", "in": "path", "description": "ID", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["函数"]}, "parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}]}, "/api/image": {"post": {"operationId": "上传图片", "summary": "上传图片", "description": "", "parameters": [{"name": "file", "in": "formData", "description": "上传图片", "required": true, "type": "file"}], "responses": {"201": {"description": ""}}, "consumes": ["multipart/form-data"], "tags": ["图片"]}, "parameters": []}, "/api/image/{image_id}": {"get": {"operationId": "获取图片", "summary": "获取图片", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["图片"]}, "parameters": [{"name": "image_id", "in": "path", "required": true, "type": "string"}]}, "/api/license/profile": {"get": {"operationId": "获取 License 信息", "summary": "获取 License 信息", "description": "", "parameters": [], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["status", "license", "message"], "type": "object", "properties": {"status": {"title": "License 状态", "description": "license状态，可能值为：valid、invalid、expired，分别代表：有效、无效、已过期", "type": "string"}, "license": {"title": "License 详情", "description": "License 详情", "required": ["corporation", "message"], "type": "object", "properties": {"corporation": {"title": "客户名称", "description": "客户名称。例如：***公司。", "type": "string"}, "isv": {"title": "独立软件供应商", "description": "独立软件供应商。例如：***公司，适用于产品的嵌入式版本。", "type": "string"}, "expired": {"title": "授权截止时间", "description": "授权截止时间。例如：2020-12-31，此license将在2021-01-01到期。", "type": "string"}, "product": {"title": "产品名称", "description": "产品名称。例如：CMP、KO、JS、MS。", "type": "string"}, "edition": {"title": "产品版本", "description": "产品版本。例如：Standard、Enterprise，代表标准版、企业版。", "type": "string"}, "licenseVersion": {"title": "License 版本", "description": "License版本。例如：1.0、2.0、3.0等。", "type": "string"}, "count": {"title": "认证数量", "description": "授权数量。例如：cmp授权的cpu数量，或JS授权的资产数量。", "type": "integer"}, "serialNo": {"title": "序列号，License唯一标识。", "description": "序列号，License唯一标识。客户支持门户生成License后会保存序列号，如果序列号在客户支持门户中没有记录，则此License将被视为未知来源。", "type": "string"}, "remark": {"title": "备注", "description": "备注，记录额外的信息，长度限制50。例如某个客户买了两个同样的JumpServer订阅分别在不同机房使用，可以用这个字段备注A机房B机房，帮助区别License。", "type": "string"}}}}}}}}}, "consumes": ["multipart/form-data"], "tags": ["License"]}, "put": {"operationId": "更新 License 信息", "summary": "更新 License 信息", "description": "", "parameters": [{"name": "license_file", "in": "formData", "description": "上传文件", "required": true, "type": "file"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["status", "license", "message"], "type": "object", "properties": {"status": {"title": "License 状态", "description": "license状态，可能值为：valid、invalid、expired，分别代表：有效、无效、已过期", "type": "string"}, "license": {"title": "License 详情", "description": "License 详情", "required": ["corporation", "message"], "type": "object", "properties": {"corporation": {"title": "客户名称", "description": "客户名称。例如：***公司。", "type": "string"}, "isv": {"title": "独立软件供应商", "description": "独立软件供应商。例如：***公司，适用于产品的嵌入式版本。", "type": "string"}, "expired": {"title": "授权截止时间", "description": "授权截止时间。例如：2020-12-31，此license将在2021-01-01到期。", "type": "string"}, "product": {"title": "产品名称", "description": "产品名称。例如：CMP、KO、JS、MS。", "type": "string"}, "edition": {"title": "产品版本", "description": "产品版本。例如：Standard、Enterprise，代表标准版、企业版。", "type": "string"}, "licenseVersion": {"title": "License 版本", "description": "License版本。例如：1.0、2.0、3.0等。", "type": "string"}, "count": {"title": "认证数量", "description": "授权数量。例如：cmp授权的cpu数量，或JS授权的资产数量。", "type": "integer"}, "serialNo": {"title": "序列号，License唯一标识。", "description": "序列号，License唯一标识。客户支持门户生成License后会保存序列号，如果序列号在客户支持门户中没有记录，则此License将被视为未知来源。", "type": "string"}, "remark": {"title": "备注", "description": "备注，记录额外的信息，长度限制50。例如某个客户买了两个同样的JumpServer订阅分别在不同机房使用，可以用这个字段备注A机房B机房，帮助区别License。", "type": "string"}}}}}}}}}, "consumes": ["multipart/form-data"], "tags": ["License"]}, "parameters": []}, "/api/model": {"get": {"operationId": "获取模型列表", "summary": "获取模型列表", "description": "", "parameters": [{"name": "name", "in": "query", "description": "名称", "required": false, "type": "string"}, {"name": "model_type", "in": "query", "description": "模型类型", "required": false, "type": "string"}, {"name": "model_name", "in": "query", "description": "模型名称", "required": false, "type": "string"}, {"name": "provider", "in": "query", "description": "供应商", "required": false, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["模型"]}, "post": {"operationId": "创建模型", "summary": "创建模型", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "调用函数所需要的参数", "description": "调用函数所需要的参数", "required": ["provide", "model_info"], "type": "object", "properties": {"name": {"title": "名称", "description": "名称", "type": "string"}, "provider": {"title": "供应商", "description": "供应商", "type": "string"}, "permission_type": {"title": "权限", "description": "PUBLIC|PRIVATE", "type": "string"}, "model_type": {"title": "模型类型", "description": "模型类型", "type": "string"}, "model_name": {"title": "模型名称", "description": "模型名称", "type": "string"}, "credential": {"title": "模型认证信息", "description": "模型认证信息", "type": "object"}}}}], "responses": {"201": {"description": "", "schema": {"title": "调用函数所需要的参数", "description": "调用函数所需要的参数", "required": ["provide", "model_info"], "type": "object", "properties": {"name": {"title": "名称", "description": "名称", "type": "string"}, "provider": {"title": "供应商", "description": "供应商", "type": "string"}, "permission_type": {"title": "权限", "description": "PUBLIC|PRIVATE", "type": "string"}, "model_type": {"title": "模型类型", "description": "模型类型", "type": "string"}, "model_name": {"title": "模型名称", "description": "模型名称", "type": "string"}, "credential": {"title": "模型认证信息", "description": "模型认证信息", "type": "object"}}}}}, "tags": ["模型"]}, "put": {"operationId": "下载模型，仅支持 Ollama 平台试用", "summary": "下载模型，仅支持 Ollama 平台试用", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "调用函数所需要的参数", "description": "调用函数所需要的参数", "required": ["provide", "model_info"], "type": "object", "properties": {"name": {"title": "名称", "description": "名称", "type": "string"}, "provider": {"title": "供应商", "description": "供应商", "type": "string"}, "permission_type": {"title": "权限", "description": "PUBLIC|PRIVATE", "type": "string"}, "model_type": {"title": "模型类型", "description": "模型类型", "type": "string"}, "model_name": {"title": "模型名称", "description": "模型名称", "type": "string"}, "credential": {"title": "模型认证信息", "description": "模型认证信息", "type": "object"}}}}], "responses": {"200": {"description": "", "schema": {"title": "调用函数所需要的参数", "description": "调用函数所需要的参数", "required": ["provide", "model_info"], "type": "object", "properties": {"name": {"title": "名称", "description": "名称", "type": "string"}, "provider": {"title": "供应商", "description": "供应商", "type": "string"}, "permission_type": {"title": "权限", "description": "PUBLIC|PRIVATE", "type": "string"}, "model_type": {"title": "模型类型", "description": "模型类型", "type": "string"}, "model_name": {"title": "模型名称", "description": "模型名称", "type": "string"}, "credential": {"title": "模型认证信息", "description": "模型认证信息", "type": "object"}}}}}, "tags": ["模型"]}, "parameters": []}, "/api/model/{model_id}": {"get": {"operationId": "查询模型详情", "summary": "查询模型详情", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["模型"]}, "put": {"operationId": "更新模型", "summary": "更新模型", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "调用函数所需要的参数", "description": "调用函数所需要的参数", "required": ["provide", "model_info"], "type": "object", "properties": {"name": {"title": "名称", "description": "名称", "type": "string"}, "model_type": {"title": "模型类型", "description": "模型类型", "type": "string"}, "model_name": {"title": "模型名称", "description": "模型名称", "type": "string"}, "provider": {"title": "供应商", "description": "供应商", "type": "string"}, "credential": {"title": "模型认证信息", "description": "模型认证信息", "type": "object"}}}}], "responses": {"200": {"description": "", "schema": {"title": "调用函数所需要的参数", "description": "调用函数所需要的参数", "required": ["provide", "model_info"], "type": "object", "properties": {"name": {"title": "名称", "description": "名称", "type": "string"}, "model_type": {"title": "模型类型", "description": "模型类型", "type": "string"}, "model_name": {"title": "模型名称", "description": "模型名称", "type": "string"}, "provider": {"title": "供应商", "description": "供应商", "type": "string"}, "credential": {"title": "模型认证信息", "description": "模型认证信息", "type": "object"}}}}}, "tags": ["模型"]}, "delete": {"operationId": "删除模型", "summary": "删除模型", "description": "", "parameters": [], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["模型"]}, "parameters": [{"name": "model_id", "in": "path", "required": true, "type": "string"}]}, "/api/model/{model_id}/meta": {"get": {"operationId": "查询模型元信息，该接口不携带认证信息", "summary": "查询模型元信息，该接口不携带认证信息", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["模型"]}, "parameters": [{"name": "model_id", "in": "path", "required": true, "type": "string"}]}, "/api/model/{model_id}/model_params_form": {"get": {"operationId": "获取模型参数表单", "summary": "获取模型参数表单", "description": "", "parameters": [{"name": "provider", "in": "query", "description": "供应商", "required": true, "type": "string"}, {"name": "model_type", "in": "query", "description": "模型类型", "required": true, "type": "string"}, {"name": "model_name", "in": "query", "description": "模型名称", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["模型"]}, "put": {"operationId": "保存模型参数表单", "summary": "保存模型参数表单", "description": "", "parameters": [{"name": "provider", "in": "query", "description": "供应商", "required": true, "type": "string"}, {"name": "model_type", "in": "query", "description": "模型类型", "required": true, "type": "string"}, {"name": "model_name", "in": "query", "description": "模型名称", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["模型"]}, "parameters": [{"name": "model_id", "in": "path", "required": true, "type": "string"}]}, "/api/model/{model_id}/pause_download": {"put": {"operationId": "下载模型暂停", "summary": "下载模型暂停", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["模型"]}, "parameters": [{"name": "model_id", "in": "path", "required": true, "type": "string"}]}, "/api/oauth2": {"get": {"operationId": "OAuth2 登录", "summary": "OAuth2 登录", "description": "", "parameters": [{"name": "auth_type", "in": "path", "description": "认证类型", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["三方登录"]}, "parameters": []}, "/api/oidc": {"get": {"operationId": "OIDC 登录", "summary": "OIDC 登录", "description": "", "parameters": [{"name": "auth_type", "in": "path", "description": "认证类型", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["三方登录"]}, "parameters": []}, "/api/platform/source": {"get": {"operationId": "获取平台信息", "summary": "获取平台信息", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["获取平台信息"]}, "post": {"operationId": "修改平台信息", "summary": "修改平台信息", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "认证配置", "description": "认证配置", "required": ["key", "config"], "type": "object", "properties": {"key": {"title": "认证类型", "description": "认证类型", "type": "string", "enum": ["wecom", "dingtalk", "lark"]}, "config": {"title": "配置", "description": "配置", "type": "object", "oneOf": [{"required": ["corp_id", "agent_id", "app_secret", "callback_url"], "type": "object", "properties": {"corp_id": {"title": "Corp ID", "type": "string"}, "agent_id": {"title": "Agent ID", "type": "string"}, "app_secret": {"title": "App Secret", "type": "string"}, "callback_url": {"title": "Callback URL", "type": "string"}}}, {"required": ["corp_id", "app_key", "app_secret", "callback_url"], "type": "object", "properties": {"corp_id": {"title": "Corp ID", "type": "string"}, "app_key": {"title": "App Key", "type": "string"}, "app_secret": {"title": "App Secret", "type": "string"}, "callback_url": {"title": "Callback URL", "type": "string"}}}, {"required": ["app_key", "app_secret", "callback_url"], "type": "object", "properties": {"app_key": {"title": "App Key", "type": "string"}, "app_secret": {"title": "App Secret", "type": "string"}, "callback_url": {"title": "Callback URL", "type": "string"}}}]}}}}], "responses": {"201": {"description": "", "schema": {"title": "认证配置", "description": "认证配置", "required": ["key", "config"], "type": "object", "properties": {"key": {"title": "认证类型", "description": "认证类型", "type": "string", "enum": ["wecom", "dingtalk", "lark"]}, "config": {"title": "配置", "description": "配置", "type": "object", "oneOf": [{"required": ["corp_id", "agent_id", "app_secret", "callback_url"], "type": "object", "properties": {"corp_id": {"title": "Corp ID", "type": "string"}, "agent_id": {"title": "Agent ID", "type": "string"}, "app_secret": {"title": "App Secret", "type": "string"}, "callback_url": {"title": "Callback URL", "type": "string"}}}, {"required": ["corp_id", "app_key", "app_secret", "callback_url"], "type": "object", "properties": {"corp_id": {"title": "Corp ID", "type": "string"}, "app_key": {"title": "App Key", "type": "string"}, "app_secret": {"title": "App Secret", "type": "string"}, "callback_url": {"title": "Callback URL", "type": "string"}}}, {"required": ["app_key", "app_secret", "callback_url"], "type": "object", "properties": {"app_key": {"title": "App Key", "type": "string"}, "app_secret": {"title": "App Secret", "type": "string"}, "callback_url": {"title": "Callback URL", "type": "string"}}}]}}}}}, "tags": ["获取平台信息"]}, "put": {"operationId": "测试平台连接", "summary": "测试平台连接", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "认证配置", "description": "认证配置", "required": ["key", "config"], "type": "object", "properties": {"key": {"title": "认证类型", "description": "认证类型", "type": "string", "enum": ["wecom", "dingtalk", "lark"]}, "config": {"title": "配置", "description": "配置", "type": "object", "oneOf": [{"required": ["corp_id", "agent_id", "app_secret", "callback_url"], "type": "object", "properties": {"corp_id": {"title": "Corp ID", "type": "string"}, "agent_id": {"title": "Agent ID", "type": "string"}, "app_secret": {"title": "App Secret", "type": "string"}, "callback_url": {"title": "Callback URL", "type": "string"}}}, {"required": ["corp_id", "app_key", "app_secret", "callback_url"], "type": "object", "properties": {"corp_id": {"title": "Corp ID", "type": "string"}, "app_key": {"title": "App Key", "type": "string"}, "app_secret": {"title": "App Secret", "type": "string"}, "callback_url": {"title": "Callback URL", "type": "string"}}}, {"required": ["app_key", "app_secret", "callback_url"], "type": "object", "properties": {"app_key": {"title": "App Key", "type": "string"}, "app_secret": {"title": "App Secret", "type": "string"}, "callback_url": {"title": "Callback URL", "type": "string"}}}]}}}}], "responses": {"200": {"description": "", "schema": {"title": "认证配置", "description": "认证配置", "required": ["key", "config"], "type": "object", "properties": {"key": {"title": "认证类型", "description": "认证类型", "type": "string", "enum": ["wecom", "dingtalk", "lark"]}, "config": {"title": "配置", "description": "配置", "type": "object", "oneOf": [{"required": ["corp_id", "agent_id", "app_secret", "callback_url"], "type": "object", "properties": {"corp_id": {"title": "Corp ID", "type": "string"}, "agent_id": {"title": "Agent ID", "type": "string"}, "app_secret": {"title": "App Secret", "type": "string"}, "callback_url": {"title": "Callback URL", "type": "string"}}}, {"required": ["corp_id", "app_key", "app_secret", "callback_url"], "type": "object", "properties": {"corp_id": {"title": "Corp ID", "type": "string"}, "app_key": {"title": "App Key", "type": "string"}, "app_secret": {"title": "App Secret", "type": "string"}, "callback_url": {"title": "Callback URL", "type": "string"}}}, {"required": ["app_key", "app_secret", "callback_url"], "type": "object", "properties": {"app_key": {"title": "App Key", "type": "string"}, "app_secret": {"title": "App Secret", "type": "string"}, "callback_url": {"title": "Callback URL", "type": "string"}}}]}}}}}, "tags": ["测试平台连接"]}, "parameters": []}, "/api/platform/{application_id}/status": {"get": {"operationId": "获取平台状态", "summary": "获取平台状态", "description": "获取平台状态\n@param request: 请求对象\n@param application_id: 应用ID\n@return: 平台状态", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["应用/获取平台状态"]}, "post": {"operationId": "更新平台状态", "summary": "更新平台状态", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["type", "status"], "type": "object", "properties": {"type": {"title": "平台类型", "description": "平台类型", "type": "string", "maxLength": 10}, "status": {"title": "状态", "description": "状态", "type": "boolean"}}}}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}], "responses": {"201": {"description": "", "schema": {"required": ["type", "status"], "type": "object", "properties": {"type": {"title": "平台类型", "description": "平台类型", "type": "string", "maxLength": 10}, "status": {"title": "状态", "description": "状态", "type": "boolean"}}}}}, "tags": ["应用/更新平台状态"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}]}, "/api/platform/{application_id}/{type}": {"get": {"operationId": "获取平台配置", "summary": "获取平台配置", "description": "", "parameters": [{"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "type", "in": "path", "description": "平台类型，例如：wechat", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["应用/应用访问"]}, "post": {"operationId": "更新平台配置", "summary": "更新平台配置", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["config"], "type": "object", "properties": {"config": {"title": "配置信息", "description": "配置信息", "type": "object"}}}}, {"name": "application_id", "in": "path", "description": "应用 ID", "required": true, "type": "string"}, {"name": "type", "in": "path", "description": "平台类型，例如：wechat", "required": true, "type": "string"}], "responses": {"201": {"description": "", "schema": {"required": ["config"], "type": "object", "properties": {"config": {"title": "配置信息", "description": "配置信息", "type": "object"}}}}}, "tags": ["应用/应用访问"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "type", "in": "path", "required": true, "type": "string"}]}, "/api/profile": {"get": {"operationId": "获取 MaxKB 相关信息", "summary": "获取 MaxKB 相关信息", "description": "", "parameters": [], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": [], "type": "object", "properties": {"version": {"title": "系统版本号", "description": "系统版本号", "type": "string"}}}}}}}, "tags": ["系统参数"]}, "parameters": []}, "/api/provider": {"get": {"operationId": "获取模型供应商列表", "summary": "获取模型供应商列表", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["模型"]}, "parameters": []}, "/api/provider/model_form": {"get": {"operationId": "获取模型创建表单", "summary": "获取模型创建表单", "description": "", "parameters": [{"name": "provider", "in": "query", "description": "供应商", "required": true, "type": "string"}, {"name": "model_type", "in": "query", "description": "模型类型", "required": true, "type": "string"}, {"name": "model_name", "in": "query", "description": "模型名称", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["模型"]}, "parameters": []}, "/api/provider/model_list": {"get": {"operationId": "获取模型创建表单", "summary": "获取模型创建表单", "description": "", "parameters": [{"name": "provider", "in": "query", "description": "供应商", "required": true, "type": "string"}, {"name": "model_type", "in": "query", "description": "模型类型", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["name", "desc", "model_type"], "type": "object", "properties": {"name": {"title": "名称", "description": "名称", "type": "string", "default": "名称"}, "desc": {"title": "模型描述", "description": "模型描述", "type": "string"}, "model_type": {"title": "模型类型值", "description": "模型类型值", "type": "string", "default": "LLM"}}}}}}}}, "tags": ["模型"]}, "parameters": []}, "/api/provider/model_params_form": {"get": {"operationId": "获取模型创建表单", "summary": "获取模型默认参数", "description": "", "parameters": [{"name": "provider", "in": "query", "description": "供应商", "required": true, "type": "string"}, {"name": "model_type", "in": "query", "description": "模型类型", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["name", "desc", "model_type"], "type": "object", "properties": {"name": {"title": "名称", "description": "名称", "type": "string", "default": "名称"}, "desc": {"title": "模型描述", "description": "模型描述", "type": "string"}, "model_type": {"title": "模型类型值", "description": "模型类型值", "type": "string", "default": "LLM"}}}}}}}}, "tags": ["模型"]}, "parameters": []}, "/api/provider/model_type_list": {"get": {"operationId": "获取模型类型列表", "summary": "获取模型类型列表", "description": "", "parameters": [{"name": "provider", "in": "query", "description": "供应商", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["key", "value"], "type": "object", "properties": {"key": {"title": "模型类型描述", "description": "模型类型描述", "type": "string", "default": "大语言模型"}, "value": {"title": "模型类型值", "description": "模型类型值", "type": "string", "default": "LLM"}}}}}}}}, "tags": ["模型"]}, "parameters": []}, "/api/provider/{provider}/{method}": {"post": {"operationId": "调用供应商函数,获取表单数据", "summary": "调用供应商函数,获取表单数据", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "调用函数所需要的参数", "description": "调用函数所需要的参数", "type": "object"}}, {"name": "provider", "in": "path", "description": "供应商", "required": true, "type": "string"}, {"name": "method", "in": "path", "description": "需要执行的函数", "required": true, "type": "string"}], "responses": {"201": {"description": "", "schema": {"title": "调用函数所需要的参数", "description": "调用函数所需要的参数", "type": "object"}}}, "tags": ["模型"]}, "parameters": [{"name": "provider", "in": "path", "required": true, "type": "string"}, {"name": "method", "in": "path", "required": true, "type": "string"}]}, "/api/qr_type": {"get": {"operationId": "扫码登录类型", "summary": "扫码登录类型", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["扫码登录"]}, "parameters": []}, "/api/slack/{application_id}/{type}": {"post": {"operationId": "api_slack_create", "description": "", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["slack"]}, "parameters": [{"name": "application_id", "in": "path", "required": true, "type": "string"}, {"name": "type", "in": "path", "required": true, "type": "string"}]}, "/api/system/api_key/": {"get": {"operationId": "获取个人系统 API_KEY 列表", "summary": "获取个人系统 API_KEY 列表", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/SystemApiKey"}}}}, "tags": ["个人系统/API_KEY"]}, "post": {"operationId": "添加个人系统 API_KEY", "summary": "添加个人系统 API_KEY", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/SystemApiKey"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/SystemApiKey"}}}, "tags": ["个人系统/API_KEY"]}, "parameters": []}, "/api/system/api_key/{id}/": {"put": {"operationId": "更新个人系统 API_KEY", "summary": "更新个人系统 API_KEY", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": [], "type": "object", "properties": {"is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "allow_cross_domain": {"title": "是否允许跨域", "description": "是否允许跨域", "type": "boolean"}, "cross_domain_list": {"title": "跨域列表", "type": "array", "items": {"type": "string"}}}}}], "responses": {"200": {"description": "", "schema": {"required": [], "type": "object", "properties": {"is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "allow_cross_domain": {"title": "是否允许跨域", "description": "是否允许跨域", "type": "boolean"}, "cross_domain_list": {"title": "跨域列表", "type": "array", "items": {"type": "string"}}}}}}, "tags": ["个人系统/API_KEY"]}, "delete": {"operationId": "删除个人系统 API_KEY", "summary": "删除个人系统 API_KEY", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["个人系统/API_KEY"]}, "parameters": [{"name": "id", "in": "path", "description": "A UUID string identifying this system api key.", "required": true, "type": "string", "format": "uuid"}]}, "/api/team/member": {"get": {"operationId": "获取团队成员列表", "summary": "获取团队成员列表", "description": "", "parameters": [], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "username", "email", "role", "is_active", "team_id", "member_id"], "type": "object", "properties": {"id": {"title": "用户 id", "description": "用户 id", "type": "string"}, "username": {"title": "用户名", "description": "用户名", "type": "string"}, "email": {"title": "邮箱", "description": "邮箱", "type": "string"}, "role": {"title": "角色", "description": "角色", "type": "string"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "string"}, "team_id": {"title": "团队 id", "description": "团队 id", "type": "string"}, "member_id": {"title": "成员 id", "description": "成员 id", "type": "string"}}}}}}}, "tags": ["团队"]}, "post": {"operationId": "添加成员", "summary": "添加成员", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["username_or_email"], "type": "object", "properties": {"username_or_email": {"title": "用户名或邮箱", "description": "用户名或邮箱", "type": "string"}}}}], "responses": {"201": {"description": "", "schema": {"required": ["username_or_email"], "type": "object", "properties": {"username_or_email": {"title": "用户名或邮箱", "description": "用户名或邮箱", "type": "string"}}}}}, "tags": ["团队"]}, "parameters": []}, "/api/team/member/_batch": {"post": {"operationId": "批量添加成员", "summary": "批量添加成员", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"title": "用户 id 列表", "description": "用户 id 列表", "type": "array", "items": {"type": "string"}}}], "responses": {"201": {"description": "", "schema": {"title": "用户 id 列表", "description": "用户 id 列表", "type": "array", "items": {"type": "string"}}}}, "tags": ["团队"]}, "parameters": []}, "/api/team/member/{member_id}": {"get": {"operationId": "获取团队成员权限", "summary": "获取团队成员权限", "description": "", "parameters": [{"name": "member_id", "in": "path", "description": "成员 id", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["团队"]}, "put": {"operationId": "更新团队成员权限", "summary": "更新团队成员权限", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["id"], "type": "object", "properties": {"team_member_permission_list": {"title": "权限数据", "description": "权限数据", "type": "array", "items": {"required": ["id", "type", "operate"], "type": "object", "properties": {"target_id": {"title": "知识库 id/应用 id", "description": "知识库 id/应用 id", "type": "string"}, "type": {"title": "类型", "description": "DATASET|APPLICATION", "type": "string"}, "operate": {"title": "类型", "description": "操作权限 USE, MANAGE 权限", "type": "object", "properties": {"USE": {"title": "使用权限", "description": "使用权限 True|False", "type": "boolean"}, "MANAGE": {"title": "管理权限", "description": "管理权限 True|False", "type": "boolean"}}}}}}}}}, {"name": "member_id", "in": "path", "description": "成员 id", "required": true, "type": "string"}], "responses": {"200": {"description": "", "schema": {"required": ["id"], "type": "object", "properties": {"team_member_permission_list": {"title": "权限数据", "description": "权限数据", "type": "array", "items": {"required": ["id", "type", "operate"], "type": "object", "properties": {"target_id": {"title": "知识库 id/应用 id", "description": "知识库 id/应用 id", "type": "string"}, "type": {"title": "类型", "description": "DATASET|APPLICATION", "type": "string"}, "operate": {"title": "类型", "description": "操作权限 USE, MANAGE 权限", "type": "object", "properties": {"USE": {"title": "使用权限", "description": "使用权限 True|False", "type": "boolean"}, "MANAGE": {"title": "管理权限", "description": "管理权限 True|False", "type": "boolean"}}}}}}}}}}, "tags": ["团队"]}, "delete": {"operationId": "移除成员", "summary": "移除成员", "description": "", "parameters": [{"name": "member_id", "in": "path", "description": "成员 id", "required": true, "type": "string"}], "responses": {"204": {"description": ""}}, "tags": ["团队"]}, "parameters": [{"name": "member_id", "in": "path", "required": true, "type": "string"}]}, "/api/user": {"get": {"operationId": "获取当前用户信息", "summary": "获取当前用户信息", "description": "", "parameters": [], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "username", "email", "role", "is_active"], "type": "object", "properties": {"id": {"title": "ID", "description": "ID", "type": "string"}, "username": {"title": "用户名", "description": "用户名", "type": "string"}, "email": {"title": "邮箱", "description": "邮箱", "type": "string"}, "role": {"title": "角色", "description": "角色", "type": "string"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "string"}, "permissions": {"title": "权限列表", "description": "权限列表", "type": "array", "items": {"type": "string"}}}}}}}}, "tags": ["用户"]}, "parameters": []}, "/api/user/check_code": {"post": {"operationId": "检查验证码是否正确", "summary": "检查验证码是否正确", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["email", "code", "type"], "type": "object", "properties": {"email": {"title": "邮箱", "description": "邮箱", "type": "string"}, "code": {"title": "验证码", "description": "验证码", "type": "string"}, "type": {"title": "类型", "description": "register|reset_password", "type": "string"}}}}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"title": "是否成功", "description": "错误信息", "type": "boolean", "default": true}}}}}, "tags": ["用户"], "security": []}, "parameters": []}, "/api/user/current/reset_password": {"post": {"operationId": "修改当前用户密码", "summary": "修改当前用户密码", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["email", "code", "password", "re_password"], "type": "object", "properties": {"code": {"title": "验证码", "description": "验证码", "type": "string"}, "password": {"title": "密码", "description": "密码", "type": "string"}, "re_password": {"title": "密码", "description": "密码", "type": "string"}}}}], "responses": {"201": {"description": "", "schema": {"required": ["email", "code", "password", "re_password"], "type": "object", "properties": {"code": {"title": "验证码", "description": "验证码", "type": "string"}, "password": {"title": "密码", "description": "密码", "type": "string"}, "re_password": {"title": "密码", "description": "密码", "type": "string"}}}}}, "tags": ["用户"]}, "parameters": []}, "/api/user/current/send_email": {"post": {"operationId": "给当前用户发送邮件", "summary": "给当前用户发送邮件", "description": "", "parameters": [], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "string", "default": true}}}}}, "tags": ["用户"]}, "parameters": []}, "/api/user/language": {"post": {"operationId": "切换语言", "summary": "切换语言", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["language"], "type": "object", "properties": {"language": {"title": "语言", "description": "语言", "type": "string"}}}}], "responses": {"201": {"description": "", "schema": {"required": ["language"], "type": "object", "properties": {"language": {"title": "语言", "description": "语言", "type": "string"}}}}}, "tags": ["用户"]}, "parameters": []}, "/api/user/list": {"get": {"operationId": "获取用户列表", "summary": "获取用户列表", "description": "", "parameters": [{"name": "email_or_username", "in": "query", "description": "邮箱或用户名", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["username", "email", "id"], "type": "object", "properties": {"id": {"title": "ID", "description": "ID", "type": "string"}, "username": {"title": "用户名", "description": "用户名", "type": "string"}, "email": {"title": "邮箱", "description": "邮箱", "type": "string"}}}}}}}}, "tags": ["用户"]}, "parameters": []}, "/api/user/list/{type}": {"get": {"operationId": "按类型获取用户列表", "summary": "按类型获取用户列表", "description": "", "parameters": [{"name": "email_or_username", "in": "query", "description": "邮箱或用户名", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "array", "items": {"required": ["username", "email", "id"], "type": "object", "properties": {"id": {"title": "ID", "description": "ID", "type": "string"}, "username": {"title": "用户名", "description": "用户名", "type": "string"}, "email": {"title": "邮箱", "description": "邮箱", "type": "string"}}}}}}}}, "tags": ["用户"]}, "parameters": [{"name": "type", "in": "path", "required": true, "type": "string"}]}, "/api/user/login": {"post": {"operationId": "登录", "summary": "登录", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["username", "password"], "type": "object", "properties": {"username": {"title": "用户名", "description": "用户名", "type": "string"}, "password": {"title": "密码", "description": "密码", "type": "string"}}}}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"title": "token", "description": "认证token", "type": "string", "default": "xxxx"}}}}}, "tags": ["用户"], "security": []}, "parameters": []}, "/api/user/logout": {"post": {"operationId": "登出", "summary": "登出", "description": "", "parameters": [], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "string", "default": true}}}}}, "tags": ["用户"]}, "parameters": []}, "/api/user/re_password": {"post": {"operationId": "修改密码", "summary": "修改密码", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["email", "code", "password", "re_password"], "type": "object", "properties": {"email": {"title": "邮箱", "description": "邮箱", "type": "string"}, "code": {"title": "验证码", "description": "验证码", "type": "string"}, "password": {"title": "密码", "description": "密码", "type": "string"}, "re_password": {"title": "确认密码", "description": "确认密码", "type": "string"}}}}], "responses": {"201": {"description": "", "schema": {"required": ["email", "code", "password", "re_password"], "type": "object", "properties": {"email": {"title": "邮箱", "description": "邮箱", "type": "string"}, "code": {"title": "验证码", "description": "验证码", "type": "string"}, "password": {"title": "密码", "description": "密码", "type": "string"}, "re_password": {"title": "确认密码", "description": "确认密码", "type": "string"}}}}}, "tags": ["用户"], "security": []}, "parameters": []}, "/api/user/send_email": {"post": {"operationId": "发送邮件", "summary": "发送邮件", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["email", "type"], "type": "object", "properties": {"email": {"title": "邮箱", "description": "邮箱", "type": "string"}, "type": {"title": "类型", "description": "register|reset_password", "type": "string"}}}}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "string", "default": true}}}}}, "tags": ["用户"], "security": []}, "parameters": []}, "/api/user_manage": {"post": {"operationId": "添加用户", "summary": "添加用户", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["username", "email", "password"], "type": "object", "properties": {"username": {"title": "用户名", "description": "用户名", "type": "string"}, "email": {"title": "邮箱", "description": "邮箱", "type": "string"}, "password": {"title": "密码", "description": "密码", "type": "string"}, "phone": {"title": "手机号", "description": "手机号", "type": "string"}, "nick_name": {"title": "名字", "description": "名字", "type": "string"}}}}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "username", "email", "phone", "is_active", "role", "nick_name", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "ID", "description": "ID", "type": "string"}, "username": {"title": "用户名", "description": "用户名", "type": "string"}, "email": {"title": "邮箱", "description": "邮箱", "type": "string"}, "phone": {"title": "手机号", "description": "手机号", "type": "string"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "role": {"title": "角色", "description": "角色", "type": "string"}, "source": {"title": "来源", "description": "来源", "type": "string"}, "nick_name": {"title": "名字", "description": "名字", "type": "string"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string"}}}}}}}, "tags": ["用户管理"]}, "parameters": []}, "/api/user_manage/{current_page}/{page_size}": {"get": {"operationId": "获取用户分页列表", "summary": "获取用户分页列表", "description": "", "parameters": [{"name": "email_or_username", "in": "query", "description": "邮箱或用户名", "required": false, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "object", "properties": {"total": {"title": "总条数", "description": "总条数", "type": "integer", "default": 1}, "records": {"type": "array", "items": {"required": ["id", "username", "email", "phone", "is_active", "role", "nick_name", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "ID", "description": "ID", "type": "string"}, "username": {"title": "用户名", "description": "用户名", "type": "string"}, "email": {"title": "邮箱", "description": "邮箱", "type": "string"}, "phone": {"title": "手机号", "description": "手机号", "type": "string"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "role": {"title": "角色", "description": "角色", "type": "string"}, "source": {"title": "来源", "description": "来源", "type": "string"}, "nick_name": {"title": "名字", "description": "名字", "type": "string"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string"}}}}, "current": {"title": "当前页", "description": "当前页", "type": "integer", "default": 1}, "size": {"title": "每页数量", "description": "每页数量", "type": "integer", "default": 10}}}}}}}, "tags": ["用户管理"]}, "parameters": [{"name": "current_page", "in": "path", "required": true, "type": "string"}, {"name": "page_size", "in": "path", "required": true, "type": "string"}]}, "/api/user_manage/{user_id}": {"get": {"operationId": "获取用户信息", "summary": "获取用户信息", "description": "", "parameters": [{"name": "user_id", "in": "path", "description": "ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "username", "email", "phone", "is_active", "role", "nick_name", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "ID", "description": "ID", "type": "string"}, "username": {"title": "用户名", "description": "用户名", "type": "string"}, "email": {"title": "邮箱", "description": "邮箱", "type": "string"}, "phone": {"title": "手机号", "description": "手机号", "type": "string"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "role": {"title": "角色", "description": "角色", "type": "string"}, "source": {"title": "来源", "description": "来源", "type": "string"}, "nick_name": {"title": "名字", "description": "名字", "type": "string"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string"}}}}}}}, "tags": ["用户管理"]}, "put": {"operationId": "更新用户信息", "summary": "更新用户信息", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "object", "properties": {"email": {"title": "邮箱", "description": "邮箱", "type": "string"}, "nick_name": {"title": "名字", "description": "名字", "type": "string"}, "phone": {"title": "手机号", "description": "手机号", "type": "string"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}}}}, {"name": "user_id", "in": "path", "description": "ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"required": ["id", "username", "email", "phone", "is_active", "role", "nick_name", "create_time", "update_time"], "type": "object", "properties": {"id": {"title": "ID", "description": "ID", "type": "string"}, "username": {"title": "用户名", "description": "用户名", "type": "string"}, "email": {"title": "邮箱", "description": "邮箱", "type": "string"}, "phone": {"title": "手机号", "description": "手机号", "type": "string"}, "is_active": {"title": "是否可用", "description": "是否可用", "type": "boolean"}, "role": {"title": "角色", "description": "角色", "type": "string"}, "source": {"title": "来源", "description": "来源", "type": "string"}, "nick_name": {"title": "名字", "description": "名字", "type": "string"}, "create_time": {"title": "创建时间", "description": "创建时间", "type": "string"}, "update_time": {"title": "更新时间", "description": "更新时间", "type": "string"}}}}}}}, "tags": ["用户管理"]}, "delete": {"operationId": "删除用户", "summary": "删除用户", "description": "", "parameters": [{"name": "user_id", "in": "path", "description": "ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["用户管理"]}, "parameters": [{"name": "user_id", "in": "path", "required": true, "type": "string"}]}, "/api/user_manage/{user_id}/re_password": {"put": {"operationId": "修改密码", "summary": "修改密码", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["password", "re_password"], "type": "object", "properties": {"password": {"title": "密码", "description": "密码", "type": "string"}, "re_password": {"title": "确认密码", "description": "确认密码", "type": "string"}}}}, {"name": "user_id", "in": "path", "description": "ID", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["用户管理"]}, "parameters": [{"name": "user_id", "in": "path", "required": true, "type": "string"}]}, "/api/valid/{valid_type}/{valid_count}": {"get": {"operationId": "获取认证结果", "summary": "获取认证结果", "description": "", "parameters": [{"name": "valid_type", "in": "path", "description": "认证类型：application|dataset|user", "required": true, "type": "string"}, {"name": "valid_count", "in": "path", "description": "检查数量", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"type": "boolean"}}}}}, "tags": ["校验"]}, "parameters": [{"name": "valid_type", "in": "path", "required": true, "type": "string"}, {"name": "valid_count", "in": "path", "required": true, "type": "string"}]}, "/api/wecom": {"get": {"operationId": "企业微信回调", "summary": "企业微信回调", "description": "", "parameters": [{"name": "auth_type", "in": "path", "description": "认证类型", "required": true, "type": "string"}], "responses": {"200": {"description": ""}}, "tags": ["三方登录"]}, "parameters": []}, "/api/{auth_type}/login": {"post": {"operationId": "登录", "summary": "登录", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"required": ["username", "password"], "type": "object", "properties": {"username": {"title": "用户名", "description": "用户名", "type": "string"}, "password": {"title": "密码", "description": "密码", "type": "string"}}}}, {"name": "auth_type", "in": "path", "description": "认证类型", "required": true, "type": "string"}], "responses": {"200": {"description": "响应参数", "schema": {"type": "object", "properties": {"code": {"title": "响应码", "description": "成功:200 失败:其他", "type": "integer", "default": 200}, "message": {"title": "提示", "description": "错误提示", "type": "string", "default": "成功"}, "data": {"title": "token", "description": "认证token", "type": "string", "default": "xxxx"}}}}}, "tags": ["三方登录"]}, "parameters": [{"name": "auth_type", "in": "path", "required": true, "type": "string"}]}, "/api/{type}/{application_id}": {"get": {"operationId": "api_read", "description": "", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["read"]}, "post": {"operationId": "api_create", "description": "", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["create"]}, "parameters": [{"name": "type", "in": "path", "required": true, "type": "string"}, {"name": "application_id", "in": "path", "required": true, "type": "string"}]}}, "definitions": {"SystemApiKey": {"required": ["secret_key", "user"], "type": "object", "properties": {"id": {"title": "主键id", "type": "string", "format": "uuid", "readOnly": true}, "cross_domain_list": {"type": "array", "items": {"type": "string", "maxLength": 128}}, "create_time": {"title": "创建时间", "type": "string", "format": "date-time", "readOnly": true}, "update_time": {"title": "修改时间", "type": "string", "format": "date-time", "readOnly": true}, "secret_key": {"title": "秘钥", "type": "string", "maxLength": 1024, "minLength": 1}, "is_active": {"title": "是否开启", "type": "boolean"}, "allow_cross_domain": {"title": "是否允许跨域", "type": "boolean"}, "user": {"title": "用户id", "type": "string", "format": "uuid"}}}}}